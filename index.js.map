{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/constants.ts","webpack:///./src/utils.ts","webpack:///./src/converter.ts","webpack:///./src/index.ts","webpack:///./src/decorator.ts","webpack:///./src/property.ts","webpack:///./node_modules/secure-template/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","CURRENT_PATH","DEFAULT_PROPERTY_SEP","DEFAULT_PROPERTY_SOURCE","PROPERTIES_KEY","isNil","validAssign","source","dest","undefined","pushByOrder","array","item","selector","index","length_1","length","element","splice","push","isValid","isNaN","Date","valueOf","constants_1","utils_1","SYSTEM_TYPES","String","Boolean","Number","SYSTEM_CONVERTERS","map","src","constuctor","options","instance","sourceName","properties","defaultProperties","useDefaultSource","Array","isArray","slice","forEach","findIndex","order","getProperties","result","resolvePath","convert","error","console","assign","_a","_b","default","getConverter","type","indexOf","decorator_1","mapping","converter_1","property_1","target","opts","Property","from","warn","secure_template_1","this","domain","path","join","Reflect","designType","getMetadata","resolve","convert_1","e","__read","iterator","u","next","done","return","trim","split","f","match","a","exec","TypeError","replace","sort","defaultReplace","format","compile"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","export const CURRENT_PATH = \".\";\nexport const DEFAULT_PROPERTY_SEP = \".\";\nexport const DEFAULT_PROPERTY_SOURCE = \"default\";\nexport const PROPERTIES_KEY = Symbol(\"PROPERTIES_KEY\");\n","export function validAssign(source: any, dest: any) {\n    source = source || {};\n    for (const key in dest) {\n        if (dest[key] !== undefined) {\n            source[key] = dest[key];\n        }\n    }\n    return source;\n}\n\nexport function pushByOrder<T>(array: T[], item: T, selector: (item: T) => any) {\n    for (let index = 0, length = array.length; index < length; index++) {\n        const element = array[index];\n        if (selector(item) < selector(element)) {\n            array.splice(index, 0, item);\n            return;\n        }\n    }\n    return array.push(item);\n}\n\nexport function isNil(value: any) {\n    return value === null || value === undefined;\n}\n\nexport function isValid(value: any) {\n    if (isNil(value)) {\n        return false;\n    } else if (value !== value && isNaN(value)) {\n        return false;\n    } else if (value instanceof Date && isNaN(value.valueOf())) {\n        return false;\n    } else {\n        return true;\n    }\n}\n","import { DEFAULT_PROPERTY_SOURCE, PROPERTIES_KEY } from \"./constants\";\nimport { IConverter, IMappingOptions, PropertyType } from \"./interface\";\nimport { Property } from \"./property\";\nimport { isNil, isValid, pushByOrder } from \"./utils\";\n\nconst SYSTEM_TYPES: Array<PropertyType<any>> = [String, Boolean, Number, Date];\n\nconst SYSTEM_CONVERTERS: Array<IConverter<any>> = [\n  (value) => isValid(value) ? String(value) : value,\n  (value) => isNil(value) ? undefined : Boolean(value),\n  (value) => isNil(value) ? undefined : Number(value),\n  (value) => isValid(value) ? new Date(value) : value,\n];\n\nexport function getConverter<T>(type?: PropertyType<T>): IConverter<T> {\n  if (typeof type === \"function\") {\n    if (type.prototype && PROPERTIES_KEY in type.prototype) {\n      return (value: any, src: any, dest: T, options?: IMappingOptions) => map(value, type as any, options);\n    } else {\n      const index = SYSTEM_TYPES.indexOf(type);\n      if (index >= 0) {\n        return SYSTEM_CONVERTERS[index];\n      } else {\n        return type as any;\n      }\n    }\n  } else {\n    return (value: any) => value;\n  }\n}\n\nfunction getProperties<T>(constuctor: any, options?: IMappingOptions) {\n  const sourceName = options && options.source || DEFAULT_PROPERTY_SOURCE;\n  const properties: Record<string, Array<Property<T>>> = constuctor.prototype[PROPERTIES_KEY];\n  if (!properties || !(sourceName in properties)) {\n    return [];\n  }\n  let defaultProperties = properties[DEFAULT_PROPERTY_SOURCE];\n  if (sourceName !== DEFAULT_PROPERTY_SOURCE) {\n    const useDefaultSource = (options && options.useDefaultSource) !== false;\n    if (useDefaultSource && Array.isArray(defaultProperties)) {\n      defaultProperties = defaultProperties.slice();\n      properties[sourceName].forEach((p) => {\n        const index = defaultProperties.findIndex((m) => p.name === m.name);\n        if (index >= 0) {\n          defaultProperties.splice(index, 1);\n        }\n        pushByOrder(defaultProperties, p, (m) => m.order);\n      });\n    } else {\n      return properties[sourceName];\n    }\n  }\n  return defaultProperties;\n}\n\n/**\n * Map an object to an instance of the specified type.\n * @param src Data source object.\n * @param constuctor The type of instance, the constructor function of the class.\n * @param options Mapping options.\n */\nexport function map<T extends new (...args: any[]) => any\n>(src: any, constuctor: T, options?: IMappingOptions): InstanceType<T> | null {\n  const instance = new constuctor();\n  if (src === undefined || src === null || typeof src !== \"object\") {\n    return null;\n  }\n  const properties = getProperties(constuctor, options);\n  properties.forEach((property) => {\n    let result;\n    try {\n      const value = property.resolvePath(src);\n      result = property.convert(value, src, instance, options);\n    } catch (error) {\n      console.error(error);\n    }\n    if (isValid(result)) {\n      Object.assign(instance, { [property.name]: result });\n    } else if (\"default\" in property) {\n      Object.assign(instance, { [property.name]: property.default });\n    }\n  });\n  return instance;\n}\n","export { mapping } from \"./decorator\";\nexport { map } from \"./converter\";\n","import { PROPERTIES_KEY } from \"./constants\";\r\nimport { IConverter, IProperty } from \"./interface\";\r\nimport { Property } from \"./property\";\r\nimport { pushByOrder } from \"./utils\";\r\n\r\n/**\r\n * The required annotations for object mapping which can only be used on instance properties.\r\n * @param options mapping options\r\n */\r\nexport function mapping<T = any>(options?: IProperty<T> | IConverter<T>) {\r\n    return function(target: any, name: string) {\r\n        if (typeof target === \"function\") {\r\n            console.warn(\"Mapping static members is not allowed, it is a dangerous operation.\");\r\n            return;\r\n        }\r\n        const opts: IProperty<T> = options || {} as any;\r\n        const property = Property.from(opts, target, name);\r\n        const properties = target[PROPERTIES_KEY] || {};\r\n        properties[property.source] = properties[property.source] || [];\r\n        pushByOrder(properties[property.source], property, (item) => item.order);\r\n        target[PROPERTIES_KEY] = properties;\r\n    };\r\n}\r\n","import { resolve } from \"secure-template\";\nimport { CURRENT_PATH, DEFAULT_PROPERTY_SEP, DEFAULT_PROPERTY_SOURCE } from \"./constants\";\nimport { getConverter } from \"./converter\";\nimport { IMappingOptions, IProperty, PropertyType } from \"./interface\";\nimport { isValid, validAssign } from \"./utils\";\n\nexport class Property<T> implements IProperty<T> {\n  public static from<T>(options: IProperty<T>, target: any, name: string) {\n    options = typeof options === \"function\" ? { type: options } : options;\n    const property = new Property();\n    property.name = name;\n    validAssign(property, options);\n    if (options.domain) {\n      if (!options.path) {\n        // The option domain will be ignored when used with path.\n        property.path = [options.domain, name].join(DEFAULT_PROPERTY_SEP);\n      }\n    }\n    property.path = property.path || name;\n    if (!property.type && typeof Reflect === \"object\" && \"getMetadata\" in Reflect) {\n      const designType = (Reflect as any).getMetadata(\"design:type\", target, name);\n      property.type = designType === Array ? [] : designType;\n    }\n    return property;\n  }\n  public path: string;\n  public type: PropertyType<T>;\n  public source: string = DEFAULT_PROPERTY_SOURCE;\n  public default: any;\n  public order: number = 0;\n  public name: string;\n\n  public resolvePath(src: any) {\n    if (this.path === CURRENT_PATH) {\n      return src;\n    } else {\n      return resolve(this.path, src);\n    }\n  }\n\n  public convert(value: any, src: any, dest: T, options?: IMappingOptions) {\n    if (Array.isArray(this.type)) {\n      if (!isValid(value)) {\n        return value;\n      }\n      const convert = getConverter(this.type[0]);\n      value = Array.isArray(value) ? value : [value];\n      value = value.map((item: any) => convert(item, src, dest, options));\n    } else {\n      const convert = getConverter(this.type);\n      value = convert(value, src, dest, options);\n    }\n    return value;\n  }\n}\n","!function(e,r){for(var t in r)e[t]=r[t]}(exports,function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&r&&\"string\"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,\"a\",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p=\"\",t(t.s=0)}([function(e,r,t){\"use strict\";var n=this&&this.__read||function(e,r){var t=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u};function o(e,r){if(\"string\"==typeof e&&r){for(var t=e.trim().split(\".\"),o=0,i=t.length;o<i;o++){var u=t[o],f=u.match(/^([^\\[]+)((\\[(\\d+)\\])+)$/);if(f){var l=n(f,3),a=l[1],c=l[2];r=r[a];for(var p=/\\[(\\d+)\\]/g,s=p.exec(c);null!=s;){var d=Number(s[1]);if(!(Array.isArray(r)&&d<r.length))return;r=r[d],s=p.exec(c)}}else{if(void 0===r[u])break;r=r[u]}}return o===i?r:void 0}}function i(e){return[void 0,null].indexOf(e)>=0||isNaN(e)&&e!=e?\"\":\"string\"==typeof e?e.trim():String(e)}function u(e,r){if(\"string\"!=typeof e)throw new TypeError(\"The template must be a string.\");for(var t=[],u=/({+)(\\S+?)(}+)/g,f=u.exec(e),l=function(){var l=n(f,4),a=l[0],c=l[1],p=l[2],s=l[3];1===c.length||1===s.length?t.push([f.index,a,function(e,t){var n=o(p,e),u=(t=t||r||i)(n);return c.replace(\"{\",\"\")+u+s.replace(\"}\",\"\")}]):t.push([f.index,a,function(){return c.replace(\"{{\",\"{\")+p+s.replace(\"}}\",\"}\")}]),f=u.exec(e)};null!=f;)l();return function(r,o){if(!r)return e;var i=e.split(\"\");return t.sort(function(e,r){return r[0]-e[0]}).forEach(function(e){var t=n(e,3),u=t[0],f=t[1],l=(0,t[2])(r,o);i.splice(u,f.length,l)}),i.join(\"\")}}Object.defineProperty(r,\"__esModule\",{value:!0}),r.resolve=o,r.defaultReplace=i,r.format=function(e,r,t){return u(e,t)(r)},r.compile=u}]));\n//# sourceMappingURL=index.js.map"],"sourceRoot":""}