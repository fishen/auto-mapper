!function(e,r){for(var t in r)e[t]=r[t]}(exports,function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=3)}([function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DEFAULT_PROPERTY_SOURCE="default",r.DEFAULT_PROPERTY_SEP=".",r.PROPERTIES_KEY=Symbol("PROPERTIES_KEY"),r.CURRENT_PATH="."},function(e,r,t){"use strict";function n(e){return null==e}Object.defineProperty(r,"__esModule",{value:!0}),r.validAssign=function(e,r){for(var t in e=e||{},r)void 0!==r[t]&&(e[t]=r[t]);return e},r.pushByOrder=function(e,r,t){for(var n=0,o=e.length;n<o;n++){var i=e[n];if(t(r)<t(i))return void e.splice(n,0,r)}return e.push(r)},r.isNil=n,r.isValid=function(e){return!(n(e)||e!=e&&isNaN(e)||e instanceof Date&&isNaN(e.valueOf()))}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(0),o=t(1),i=[String,Boolean,Number,Date],a=[function(e){return o.isValid(e)?String(e):e},function(e){return o.isNil(e)?void 0:Boolean(e)},function(e){return o.isNil(e)?void 0:Number(e)},function(e){return o.isValid(e)?new Date(e):e}];function u(e,r,t){var i=new r;return null==e||"object"!=typeof e?null:(function(e,r){var t=r&&r.source||n.DEFAULT_PROPERTY_SOURCE,i=e.prototype[n.PROPERTIES_KEY];if(!(i&&t in i))return console.warn("The type "+e.name+" has no mapping annotation declared."),[];var a=i[n.DEFAULT_PROPERTY_SOURCE];if(t!==n.DEFAULT_PROPERTY_SOURCE){if(!1===(r&&r.useDefaultSource)||!Array.isArray(a))return i[t];a=a.slice(),i[t].forEach(function(e){var r=a.findIndex(function(r){return e.name===r.name});~r&&a.splice(r,1),o.pushByOrder(a,e,function(e){return e.order})})}return a}(r,t).forEach(function(r){var n,a,u;try{var f=r.resolvePath(e);u=r.convert(f,e,i,t)}catch(e){console.error(e)}o.isValid(u)?Object.assign(i,((n={})[r.name]=u,n)):"default"in r&&Object.assign(i,((a={})[r.name]=r.default,a))}),i)}r.getConverter=function(e){if("function"==typeof e){if(n.PROPERTIES_KEY in e.prototype)return function(r,t,n,o){return u(r,e,o)};var r=i.indexOf(e);return~r?a[r]:e}return function(e){return e}},r.map=u},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(4);r.mapping=n.mapping;var o=t(2);r.map=o.map},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(5),o=t(0),i=t(1);r.mapping=function(e){return function(r,t){if("function"!=typeof r){var a=e||{},u=n.Property.from(a,r,t),f=r[o.PROPERTIES_KEY]||{};f[u.source]=f[u.source]||[],i.pushByOrder(f[u.source],u,function(e){return e.order}),r[o.PROPERTIES_KEY]=f}else console.warn("Mapping static members is not allowed, it is a dangerous operation.")}}},function(e,r,t){"use strict";var n=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),a=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(r,"__esModule",{value:!0});var o=t(2),i=t(0),a=t(1),u=function(){function e(){this.separator=i.DEFAULT_PROPERTY_SEP,this.source=i.DEFAULT_PROPERTY_SOURCE,this.order=0}return e.from=function(r,t,n){r="function"==typeof r?{type:r}:r;var o=new e;if(o.name=n,a.validAssign(o,r),r.domain&&(r.path?console.warn("The option domain will be ignored when used with path."):o.path=[r.domain,n].join(o.separator)),o.path=o.path||n,!o.type&&Reflect&&"function"==typeof Reflect.getMetadata){var i=Reflect.getMetadata("design:type",t,n);o.type=i===Array?[]:i}return Array.isArray(o.type)&&0===o.type.length&&console.warn("The propery "+n+" missing type declaration and it will treated as any[]"),o},e.prototype.resolvePath=function(e){if(e){if(this.path===i.CURRENT_PATH)return e;for(var r=this.path.split(this.separator),t=0,o=r.length;t<o;t++){var a=r[t],u=a.match(/^(.+)\[(\d)\]$/);if(u){var f=n(u,3),c=f[1],s=f[2];if(!(Array.isArray(e[c])&&e[c].length>s))break;e=e[c][s]}else{if(!(a in e))break;e=e[a]}}return t===o?e:void 0}},e.prototype.convert=function(e,r,t,n){if(Array.isArray(this.type)){if(!a.isValid(e))return e;var i=o.getConverter(this.type[0]);e=(e=Array.isArray(e)?e:[e]).map(function(e){return i(e,r,t,n)})}else{e=o.getConverter(this.type)(e,r,t,n)}return e},e}();r.Property=u}]));