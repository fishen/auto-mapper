!function(e,t){for(var r in t)e[r]=t[r]}(exports,function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=8)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6);t.mapping=n.mapping;var o=r(5);t.map=o.map},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"fisher",age:"1s2",src:{number:"13"},address:{id:"1",city:"北京",zip_code:"10086"},address1:[{id:"1",city:"北京",zip_code:"10086",alias:["京城","北平"],other:[{key:"key",value:"1"}]}],date:"sfsdf",dates:[Date()],staticProp:"123"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROPERTY_SOURCE="default",t.DEFAULT_PROPERTY_SEP=".",t.PROPERTIES_KEY=Symbol("PROPERTIES_KEY"),t.CURRENT_PATH="."},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validAssign=function(e,t){for(var r in e=e||{},t)void 0!==t[r]&&(e[r]=t[r]);return e},t.pushByOrder=function(e,t,r){for(var n=0,o=e.length;n<o;n++){var i=e[n];if(r(t)<r(i))return void e.splice(n,0,t)}return e.push(t)},t.isValid=function(e){return!(null==e||e!=e&&isNaN(e)||e instanceof Date&&isNaN(e.valueOf()))}},function(e,t,r){(function(e,t){
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r;!function(r){!function(n){var o="object"==typeof t?t:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),i=a(r);function a(e,t){return function(r,n){"function"!=typeof e[r]&&Object.defineProperty(e,r,{configurable:!0,writable:!0,value:n}),t&&t(r,n)}}void 0===o.Reflect?o.Reflect=r:i=a(o.Reflect,i),function(t){var r=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,o=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,u={__proto__:[]}instanceof Array,c=!a&&!u,f={create:a?function(){return D(Object.create(null))}:u?function(){return D({__proto__:null})}:function(){return D({})},has:c?function(e,t){return r.call(e,t)}:function(e,t){return t in e},get:c?function(e,t){return r.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},s=Object.getPrototypeOf(Function),p="object"==typeof e&&e.env&&"true"===e.env.REFLECT_METADATA_USE_MAP_POLYFILL,l=p||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],r=function(){function e(e,t,r){this._index=0,this._keys=e,this._values=t,this._selector=r}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var r=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var r=this._find(e,!0);return this._values[r]=t,this},t.prototype.delete=function(t){var r=this._find(t,!1);if(r>=0){for(var n=this._keys.length,o=r+1;o<n;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new r(this._keys,this._values,n)},t.prototype.values=function(){return new r(this._keys,this._values,o)},t.prototype.entries=function(){return new r(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function n(e,t){return e}function o(e,t){return t}function a(e,t){return[e,t]}}():Map,y=p||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new l}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}():Set,d=new(p||"function"!=typeof WeakMap?function(){var e=16,t=f.create(),n=o();return function(){function e(){this._key=o()}return e.prototype.has=function(e){var t=i(e,!1);return void 0!==t&&f.has(t,this._key)},e.prototype.get=function(e){var t=i(e,!1);return void 0!==t?f.get(t,this._key):void 0},e.prototype.set=function(e,t){var r=i(e,!0);return r[this._key]=t,this},e.prototype.delete=function(e){var t=i(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=o()},e}();function o(){var e;do{e="@@WeakMap@@"+u()}while(f.has(t,e));return t[e]=!0,e}function i(e,t){if(!r.call(e,n)){if(!t)return;Object.defineProperty(e,n,{value:f.create()})}return e[n]}function a(e,t){for(var r=0;r<t;++r)e[r]=255*Math.random()|0;return e}function u(){var t=function(e){if("function"==typeof Uint8Array)return"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):a(new Uint8Array(e),e);return a(new Array(e),e)}(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var r="",n=0;n<e;++n){var o=t[n];4!==n&&6!==n&&8!==n||(r+="-"),o<16&&(r+="0"),r+=o.toString(16).toLowerCase()}return r}}():WeakMap);function h(e,t,r){var n=d.get(e);if(O(n)){if(!r)return;n=new l,d.set(e,n)}var o=n.get(t);if(O(o)){if(!r)return;o=new l,n.set(t,o)}return o}function v(e,t,r){var n=h(t,r,!1);return!O(n)&&!!n.has(e)}function m(e,t,r){var n=h(t,r,!1);if(!O(n))return n.get(e)}function g(e,t,r,n){var o=h(r,n,!0);o.set(e,t)}function _(e,t){var r=[],n=h(e,t,!1);if(O(n))return r;for(var o=n.keys(),a=function(e){var t=A(e,i);if(!T(t))throw new TypeError;var r=t.call(e);if(!R(r))throw new TypeError;return r}(o),u=0;;){var c=k(a);if(!c)return r.length=u,r;var f=c.value;try{r[u]=f}catch(e){try{M(a)}finally{throw e}}u++}}function b(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function O(e){return void 0===e}function w(e){return null===e}function R(e){return"object"==typeof e?null!==e:"function"==typeof e}function P(e,t){switch(b(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var r=3===t?"string":5===t?"number":"default",n=A(e,o);if(void 0!==n){var i=n.call(e,r);if(R(i))throw new TypeError;return i}return function(e,t){if("string"===t){var r=e.toString;if(T(r)){var n=r.call(e);if(!R(n))return n}var o=e.valueOf;if(T(o)){var n=o.call(e);if(!R(n))return n}}else{var o=e.valueOf;if(T(o)){var n=o.call(e);if(!R(n))return n}var i=e.toString;if(T(i)){var n=i.call(e);if(!R(n))return n}}throw new TypeError}(e,"default"===r?"number":r)}function j(e){var t=P(e,3);return"symbol"==typeof t?t:function(e){return""+e}(t)}function E(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function T(e){return"function"==typeof e}function S(e){return"function"==typeof e}function A(e,t){var r=e[t];if(null!=r){if(!T(r))throw new TypeError;return r}}function k(e){var t=e.next();return!t.done&&t}function M(e){var t=e.return;t&&t.call(e)}function x(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===s)return t;if(t!==s)return t;var r=e.prototype,n=r&&Object.getPrototypeOf(r);if(null==n||n===Object.prototype)return t;var o=n.constructor;return"function"!=typeof o?t:o===e?t:o}function D(e){return e.__=void 0,delete e.__,e}t("decorate",function(e,t,r,n){if(O(r)){if(!E(e))throw new TypeError;if(!S(t))throw new TypeError;return function(e,t){for(var r=e.length-1;r>=0;--r){var n=e[r],o=n(t);if(!O(o)&&!w(o)){if(!S(o))throw new TypeError;t=o}}return t}(e,t)}if(!E(e))throw new TypeError;if(!R(t))throw new TypeError;if(!R(n)&&!O(n)&&!w(n))throw new TypeError;return w(n)&&(n=void 0),r=j(r),function(e,t,r,n){for(var o=e.length-1;o>=0;--o){var i=e[o],a=i(t,r,n);if(!O(a)&&!w(a)){if(!R(a))throw new TypeError;n=a}}return n}(e,t,r,n)}),t("metadata",function(e,t){return function(r,n){if(!R(r))throw new TypeError;if(!O(n)&&!function(e){switch(b(e)){case 3:case 4:return!0;default:return!1}}(n))throw new TypeError;g(e,t,r,n)}}),t("defineMetadata",function(e,t,r,n){if(!R(r))throw new TypeError;O(n)||(n=j(n));return g(e,t,r,n)}),t("hasMetadata",function(e,t,r){if(!R(t))throw new TypeError;O(r)||(r=j(r));return function e(t,r,n){var o=v(t,r,n);if(o)return!0;var i=x(r);if(!w(i))return e(t,i,n);return!1}(e,t,r)}),t("hasOwnMetadata",function(e,t,r){if(!R(t))throw new TypeError;O(r)||(r=j(r));return v(e,t,r)}),t("getMetadata",function(e,t,r){if(!R(t))throw new TypeError;O(r)||(r=j(r));return function e(t,r,n){var o=v(t,r,n);if(o)return m(t,r,n);var i=x(r);if(!w(i))return e(t,i,n);return}(e,t,r)}),t("getOwnMetadata",function(e,t,r){if(!R(t))throw new TypeError;O(r)||(r=j(r));return m(e,t,r)}),t("getMetadataKeys",function(e,t){if(!R(e))throw new TypeError;O(t)||(t=j(t));return function e(t,r){var n=_(t,r);var o=x(t);if(null===o)return n;var i=e(o,r);if(i.length<=0)return n;if(n.length<=0)return i;var a=new y;var u=[];for(var c=0,f=n;c<f.length;c++){var s=f[c],p=a.has(s);p||(a.add(s),u.push(s))}for(var l=0,d=i;l<d.length;l++){var s=d[l],p=a.has(s);p||(a.add(s),u.push(s))}return u}(e,t)}),t("getOwnMetadataKeys",function(e,t){if(!R(e))throw new TypeError;O(t)||(t=j(t));return _(e,t)}),t("deleteMetadata",function(e,t,r){if(!R(t))throw new TypeError;O(r)||(r=j(r));var n=h(t,r,!1);if(O(n))return!1;if(!n.delete(e))return!1;if(n.size>0)return!0;var o=d.get(t);return o.delete(r),o.size>0||(d.delete(t),!0)})}(i)}()}(r||(r={}))}).call(this,r(11),r(12))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=r(3),i=[String,Boolean,Number,Date],a=[function(e){return o.isValid(e)?String(e):e},function(e){return Boolean(e)},function(e){return Number(e)},function(e){return o.isValid(e)?new Date(e):e}];function u(e,t,r){if(null==e||"object"!=typeof e)return null;var i=new t;return function(e,t){var r=t&&t.source||n.DEFAULT_PROPERTY_SOURCE,i=e.prototype[n.PROPERTIES_KEY];if(!(i&&r in i))return console.warn("The type "+e.name+" has no mapping annotation declared."),[];var a=i[n.DEFAULT_PROPERTY_SOURCE];if(r!==n.DEFAULT_PROPERTY_SOURCE){if(!1===(t&&t.useDefaultSource)||!Array.isArray(a))return i[r];a=a.slice(),i[r].forEach(function(e){var t=a.findIndex(function(t){return e.name===t.name});~t&&a.splice(t,1),o.pushByOrder(a,e,function(e){return e.order})})}return a}(t,r).forEach(function(t){var n,a,u;try{var c=t.resolvePath(e);u=t.convert(c,e,i,r)}catch(e){console.error(e)}o.isValid(u)?Object.assign(i,((n={})[t.name]=u,n)):"default"in t&&Object.assign(i,((a={})[t.name]=t.default,a))}),i}t.getConverter=function(e){if("function"==typeof e){if(n.PROPERTIES_KEY in e.prototype)return function(t,r,n,o){return u(t,e,o)};var t=i.indexOf(e);return~t?a[t]:e}return function(e){return e}},t.map=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7),o=r(2),i=r(3);t.mapping=function(e){return function(t,r){if("function"!=typeof t){var a=e||{},u=n.Property.from(a,t,r);t[o.PROPERTIES_KEY]=t[o.PROPERTIES_KEY]||{},t[o.PROPERTIES_KEY][u.source]=t[o.PROPERTIES_KEY][u.source]||[],i.pushByOrder(t[o.PROPERTIES_KEY][u.source],u,function(e){return e.order})}else console.warn("Mapping static members is not allowed, it is a dangerous operation.")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),o=r(2),i=r(3),a=function(){function e(){this.separator=o.DEFAULT_PROPERTY_SEP,this.source=o.DEFAULT_PROPERTY_SOURCE,this.order=0}return e.from=function(t,r,n){t="function"==typeof t?{type:t}:t;var o=new e;if(o.name=n,i.validAssign(o,t),t.domain&&(t.path?console.warn("The option domain will be ignored when used with path."):o.path=[t.domain,n].join(o.separator)),o.path=o.path||n,!o.type&&Reflect&&"getMetadata"in Reflect){var a=Reflect.getMetadata("design:type",r,n);o.type=a===Array?[]:a}return o.type?Array.isArray(o.type)&&0===o.type.length&&console.warn("The propery "+n+" missing type declaration and it will treated as any[]"):console.warn("The propery "+n+" missing 'type' option and it will be treated as any, you can import module 'reflect-metadata' to get types automatically"),o},e.prototype.resolvePath=function(e){if(e){if(this.path===o.CURRENT_PATH)return e;for(var t=this.path.split(this.separator),r=0,n=t.length;r<n;r++){var i=t[r],a=i.match(/^(.+)\[(\d)\]$/);if(a){var u=a[1],c=a[2];if(!(Array.isArray(e[u])&&e[u].length>c))break;e=e[u][c]}else{if(!(i in e))break;e=e[i]}}return r===n?e:void 0}},e.prototype.convert=function(e,t,r,o){if(Array.isArray(this.type)){if(!i.isValid(e))return e;var a=n.getConverter(this.type[0]);e=(e=Array.isArray(e)?e:[e]).map(function(e){return a(e,t,r,o)})}else{e=n.getConverter(this.type)(e,t,r,o)}return e},e}();t.Property=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(9),r(10),r(13),r(14),r(15),r(16),r(17),r(18),r(19),r(20),r(21)},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=r(1),u=function(){function e(){this.age=1}return n([i.mapping({type:String}),o("design:type",String)],e.prototype,"name",void 0),n([i.mapping({type:Boolean}),o("design:type",Boolean)],e.prototype,"gender",void 0),n([i.mapping({type:Number}),o("design:type",Number)],e.prototype,"age",void 0),n([i.mapping({path:"src.number",type:Number}),o("design:type",Number)],e.prototype,"num",void 0),e}(),c=i.map(a.default,u);c&&(console.assert(c.name===a.default.name,"普通属性获取失败"),console.assert(!!c.num,"拉取对象失败"),console.assert(c.num===+a.default.src.number,"普通类型转换失败"),console.assert(!1===c.gender,"获取不存在的属性不为空"))},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),r(4);var u=r(0),c=r(1),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.age=1,t.date=new Date,t}return o(t,e),i([u.mapping(),a("design:type",String)],t.prototype,"gender",void 0),i([u.mapping(),a("design:type",Number)],t.prototype,"age",void 0),i([u.mapping({path:"src.number"}),a("design:type",Number)],t.prototype,"num",void 0),i([u.mapping(),a("design:type",Date)],t.prototype,"date",void 0),t}(function(){function e(){}return i([u.mapping(),a("design:type",String)],e.prototype,"name",void 0),e}()),s=u.map(c.default,f);s&&(console.assert(s.name===c.default.name,"普通属性获取失败"),console.assert(!!s.num,"拉取对象失败"),console.assert(s.num===+c.default.src.number,"普通类型转换失败"),console.assert(void 0===s.gender,"获取不存在的属性不为空"),console.assert(s.date instanceof Date,"日期对像转换失败"))},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var c,f=[],s=!1,p=-1;function l(){s&&c&&(s=!1,c.length?f=c.concat(f):p=-1,f.length&&y())}function y(){if(!s){var e=u(l);s=!0;for(var t=f.length;t;){for(c=f,f=[];++p<t;)c&&c[p].run();p=-1,t=f.length}c=null,s=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function h(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];f.push(new d(e,t)),1!==f.length||s||u(y)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),r(4);var i=r(0),a=r(1),u=function(){function e(){}return n([i.mapping({path:"address1[0].city"}),o("design:type",String)],e.prototype,"cityName",void 0),n([i.mapping(function(e,t,r){return"I'm "+t.name+" and i come from "+r.cityName}),o("design:type",String)],e.prototype,"intro",void 0),n([i.mapping(function(){throw new Error("cast error")}),o("design:type",String)],e.prototype,"error",void 0),e}(),c=i.map(a.default,u);c&&(console.assert("string"==typeof c.intro,"自定义转换失败"),console.assert(void 0===c.error,"自定义转换抛出错误转换失败"))},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),r(4);var i=r(0),a=r(1),u=function(){function e(){}return n([i.mapping(),o("design:type",Number)],e.prototype,"id",void 0),n([i.mapping(),o("design:type",String)],e.prototype,"city",void 0),n([i.mapping({path:"zip_code"}),o("design:type",String)],e.prototype,"zipCode",void 0),e}(),c=function(){function e(){}return n([i.mapping({path:"address1[0].city"}),o("design:type",String)],e.prototype,"cityName",void 0),n([i.mapping({path:"src.number"}),o("design:type",Number)],e.prototype,"num",void 0),n([i.mapping({path:"address1[0]"}),o("design:type",u)],e.prototype,"address",void 0),e}(),f=i.map(a.default,c);f&&(console.assert(f.cityName===a.default.address.city,"属性拉取失败"),console.assert("number"==typeof f.num,"拉取基础属性转换失败"),console.assert(f.address instanceof u,"拉取自定义类型属性转换失败"))},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),r(4);var u=r(0),c=r(1),f=function(){function e(){}return i([u.mapping(),a("design:type",Number)],e.prototype,"id",void 0),i([u.mapping(),a("design:type",String)],e.prototype,"city",void 0),i([u.mapping({path:"zip_code"}),a("design:type",String)],e.prototype,"zipCode",void 0),e}(),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),i([u.mapping(),a("design:type",f)],t.prototype,"address",void 0),t}(function(){function e(){}return i([u.mapping(),a("design:type",String)],e.prototype,"name",void 0),e}()),p=u.map(c.default,s);p&&(console.assert(p.name===c.default.name,"普通属性获取失败"),console.assert(p.address&&p.address instanceof f,"自定义对象转换失败"))},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),r(4);var i=r(0),a=r(1),u=function(){function e(){}return n([i.mapping(),o("design:type",Number)],e.prototype,"id",void 0),n([i.mapping(),o("design:type",String)],e.prototype,"city",void 0),n([i.mapping({path:"zip_code"}),o("design:type",String)],e.prototype,"zipCode",void 0),e}(),c=function(){function e(){}return n([i.mapping({path:"address1",type:[u]}),o("design:type",Array)],e.prototype,"address1",void 0),n([i.mapping({type:[Date]}),o("design:type",Object)],e.prototype,"dates",void 0),e}(),f=i.map(a.default,c);f&&(console.assert(Array.isArray(f.dates),"数组转换失败"),console.assert(f.address1[0]instanceof u,"数组对像转换失败"))},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=r(1),u=function(){function e(){}return n([i.mapping({type:String,source:"other",path:"person.lastname"}),i.mapping({type:String,default:"fisher"}),o("design:type",String)],e.prototype,"name",void 0),e}(),c={person:{lastname:"jack"}},f=i.map(a.default,u),s=i.map(c,u,{source:"other"});f&&s&&console.assert(f.name===a.default.name&&s.name===c.person.lastname,"多个数据源属性获取失败")},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=r(1),u=function(){function e(){this.name="jack"}return n([i.mapping({type:function(e,t){return t.name},order:1}),o("design:type",String)],e.prototype,"fullName",void 0),n([i.mapping({type:String}),o("design:type",String)],e.prototype,"name",void 0),e}(),c=i.map(a.default,u);c&&console.assert(c.fullName===a.default.name,"排序属性获取失败")},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=r(1),u=function(){function e(){}return n([i.mapping({type:String,source:"other",path:"person.lastname"}),i.mapping({type:String,default:"fisher"}),o("design:type",String)],e.prototype,"name",void 0),n([i.mapping({type:Number,path:"src.number"}),o("design:type",Number)],e.prototype,"age",void 0),e}(),c={person:{lastname:"jack"},src:{number:18}},f=i.map(a.default,u),s=i.map(c,u,{source:"other"}),p=i.map(c,u,{source:"other",useDefaultSource:!1});f&&s&&(console.assert(f.name===a.default.name&&s.name===c.person.lastname,"多个数据源属性获取失败"),console.assert(s.age===c.src.number,"使用默认数据源配置失败"),console.assert(void 0===p.age,"不使用默认数据源配置失败"))},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=function(){function e(){this.name="fisher",this.age=1,this.array=[]}return n([i.mapping({type:String}),o("design:type",String)],e.prototype,"name",void 0),n([i.mapping({type:Boolean}),o("design:type",Boolean)],e.prototype,"gender",void 0),n([i.mapping({type:Number,default:18}),o("design:type",Number)],e.prototype,"age",void 0),n([i.mapping({type:[String]}),o("design:type",Array)],e.prototype,"array",void 0),e}(),u={name:void 0,gender:null,age:void 0,array:null},c=i.map(u,a);c&&(console.assert("fisher"===c.name,"默认值获取失败"),console.assert(18===c.age,"参数默认值获取失败"),console.assert(!1===c.gender,"布尔类型转换失败"),console.assert(Array.isArray(c.array)&&0===c.array.length,"数组默认值转换失败"))},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),r(4);var i=r(0),a=r(1),u=function(){function e(){}return n([i.mapping({domain:"src",path:"src.number"}),o("design:type",Number)],e.prototype,"number",void 0),n([i.mapping({domain:"address"}),o("design:type",String)],e.prototype,"city",void 0),e}(),c=i.map(a.default,u);c&&(console.assert(c.number===+a.default.src.number,"域属性获取失败"),console.assert(c.city===a.default.address.city,"域属性获取失败"))}]));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vdGVzdC9kYXRhLXNvdXJjZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29uc3RhbnRzLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVmbGVjdC1tZXRhZGF0YS9SZWZsZWN0LmpzIiwid2VicGFjazovLy8uL3NyYy9jb252ZXJ0ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fubm90YXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Byb3BlcnR5LnRzIiwid2VicGFjazovLy8uL3Rlc3QvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vdGVzdC9uby1yZWZsZWN0LW1ldGFkYXRhLnRzIiwid2VicGFjazovLy8uL3Rlc3QvcmVmbGVjdC1tZXRhZGF0YS50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vdGVzdC9jb252ZXJ0ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vdGVzdC9wdWxsLWRhdGEudHMiLCJ3ZWJwYWNrOi8vLy4vdGVzdC9jdXN0b20tY2xhc3MudHMiLCJ3ZWJwYWNrOi8vLy4vdGVzdC9hcnJheS50cyIsIndlYnBhY2s6Ly8vLi90ZXN0L211bHRpLWRhdGEtc291cmNlLnRzIiwid2VicGFjazovLy8uL3Rlc3Qvb3JkZXIudHMiLCJ3ZWJwYWNrOi8vLy4vdGVzdC91c2UtZGVmYXVsdC1zb3VyY2UudHMiLCJ3ZWJwYWNrOi8vLy4vdGVzdC9kZWZhdWx0LnRzIiwid2VicGFjazovLy8uL3Rlc3QvZG9tYWluLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiYW5ub3RhdGlvbl8xIiwibWFwcGluZyIsImNvbnZlcnRlcl8xIiwibWFwIiwiZGVmYXVsdCIsImFnZSIsInNyYyIsIm51bWJlciIsImFkZHJlc3MiLCJpZCIsImNpdHkiLCJ6aXBfY29kZSIsImFkZHJlc3MxIiwiYWxpYXMiLCJvdGhlciIsImRhdGUiLCJkYXRlcyIsIkRhdGUiLCJzdGF0aWNQcm9wIiwiREVGQVVMVF9QUk9QRVJUWV9TT1VSQ0UiLCJERUZBVUxUX1BST1BFUlRZX1NFUCIsIlBST1BFUlRJRVNfS0VZIiwiQ1VSUkVOVF9QQVRIIiwidmFsaWRBc3NpZ24iLCJzb3VyY2UiLCJkZXN0IiwidW5kZWZpbmVkIiwicHVzaEJ5T3JkZXIiLCJhcnJheSIsIml0ZW0iLCJzZWxlY3RvciIsImluZGV4IiwibGVuZ3RoXzEiLCJsZW5ndGgiLCJlbGVtZW50Iiwic3BsaWNlIiwicHVzaCIsImlzVmFsaWQiLCJpc05hTiIsInZhbHVlT2YiLCJwcm9jZXNzIiwiZ2xvYmFsIiwiUmVmbGVjdCIsImZhY3RvcnkiLCJyb290Iiwic2VsZiIsInRoaXMiLCJGdW5jdGlvbiIsImV4cG9ydGVyIiwibWFrZUV4cG9ydGVyIiwidGFyZ2V0IiwicHJldmlvdXMiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImhhc093biIsInN1cHBvcnRzU3ltYm9sIiwidG9QcmltaXRpdmVTeW1ib2wiLCJ0b1ByaW1pdGl2ZSIsIml0ZXJhdG9yU3ltYm9sIiwiaXRlcmF0b3IiLCJzdXBwb3J0c0NyZWF0ZSIsInN1cHBvcnRzUHJvdG8iLCJfX3Byb3RvX18iLCJBcnJheSIsImRvd25MZXZlbCIsIkhhc2hNYXAiLCJNYWtlRGljdGlvbmFyeSIsImhhcyIsImZ1bmN0aW9uUHJvdG90eXBlIiwiZ2V0UHJvdG90eXBlT2YiLCJ1c2VQb2x5ZmlsbCIsImVudiIsIl9NYXAiLCJNYXAiLCJlbnRyaWVzIiwiY2FjaGVTZW50aW5lbCIsImFycmF5U2VudGluZWwiLCJNYXBJdGVyYXRvciIsImtleXMiLCJ2YWx1ZXMiLCJfaW5kZXgiLCJfa2V5cyIsIl92YWx1ZXMiLCJfc2VsZWN0b3IiLCJuZXh0IiwicmVzdWx0IiwiZG9uZSIsInRocm93IiwiZXJyb3IiLCJyZXR1cm4iLCJfY2FjaGVLZXkiLCJfY2FjaGVJbmRleCIsIl9maW5kIiwic2V0IiwiZGVsZXRlIiwic2l6ZSIsImNsZWFyIiwiZ2V0S2V5IiwiZ2V0VmFsdWUiLCJnZXRFbnRyeSIsImluc2VydCIsImluZGV4T2YiLCJfIiwiQ3JlYXRlTWFwUG9seWZpbGwiLCJfU2V0IiwiU2V0IiwiX21hcCIsImFkZCIsIk1ldGFkYXRhIiwiV2Vha01hcCIsIlVVSURfU0laRSIsInJvb3RLZXkiLCJDcmVhdGVVbmlxdWVLZXkiLCJfa2V5IiwidGFibGUiLCJHZXRPckNyZWF0ZVdlYWtNYXBUYWJsZSIsIkNyZWF0ZVVVSUQiLCJGaWxsUmFuZG9tQnl0ZXMiLCJidWZmZXIiLCJNYXRoIiwicmFuZG9tIiwiZGF0YSIsIlVpbnQ4QXJyYXkiLCJjcnlwdG8iLCJnZXRSYW5kb21WYWx1ZXMiLCJtc0NyeXB0byIsIkdlblJhbmRvbUJ5dGVzIiwib2Zmc2V0IiwiYnl0ZSIsInRvU3RyaW5nIiwidG9Mb3dlckNhc2UiLCJDcmVhdGVXZWFrTWFwUG9seWZpbGwiLCJHZXRPckNyZWF0ZU1ldGFkYXRhTWFwIiwiTyIsIlAiLCJDcmVhdGUiLCJ0YXJnZXRNZXRhZGF0YSIsIklzVW5kZWZpbmVkIiwibWV0YWRhdGFNYXAiLCJPcmRpbmFyeUhhc093bk1ldGFkYXRhIiwiTWV0YWRhdGFLZXkiLCJPcmRpbmFyeUdldE93bk1ldGFkYXRhIiwiT3JkaW5hcnlEZWZpbmVPd25NZXRhZGF0YSIsIk1ldGFkYXRhVmFsdWUiLCJPcmRpbmFyeU93bk1ldGFkYXRhS2V5cyIsImtleXNPYmoiLCJvYmoiLCJtZXRob2QiLCJHZXRNZXRob2QiLCJJc0NhbGxhYmxlIiwiVHlwZUVycm9yIiwiSXNPYmplY3QiLCJHZXRJdGVyYXRvciIsImsiLCJJdGVyYXRvclN0ZXAiLCJuZXh0VmFsdWUiLCJlIiwiSXRlcmF0b3JDbG9zZSIsIlR5cGUiLCJ4IiwiSXNOdWxsIiwiVG9QcmltaXRpdmUiLCJpbnB1dCIsIlByZWZlcnJlZFR5cGUiLCJoaW50IiwiZXhvdGljVG9QcmltIiwidG9TdHJpbmdfMSIsInRvU3RyaW5nXzIiLCJPcmRpbmFyeVRvUHJpbWl0aXZlIiwiVG9Qcm9wZXJ0eUtleSIsImFyZ3VtZW50IiwiVG9TdHJpbmciLCJJc0FycmF5IiwiaXNBcnJheSIsIklzQ29uc3RydWN0b3IiLCJWIiwiZnVuYyIsImYiLCJPcmRpbmFyeUdldFByb3RvdHlwZU9mIiwicHJvdG8iLCJwcm90b3R5cGVQcm90byIsImNvbnN0cnVjdG9yIiwiX18iLCJkZWNvcmF0b3JzIiwicHJvcGVydHlLZXkiLCJhdHRyaWJ1dGVzIiwiZGVjb3JhdG9yIiwiZGVjb3JhdGVkIiwiRGVjb3JhdGVDb25zdHJ1Y3RvciIsImRlc2NyaXB0b3IiLCJEZWNvcmF0ZVByb3BlcnR5IiwibWV0YWRhdGFLZXkiLCJtZXRhZGF0YVZhbHVlIiwiSXNQcm9wZXJ0eUtleSIsIk9yZGluYXJ5SGFzTWV0YWRhdGEiLCJwYXJlbnQiLCJPcmRpbmFyeUdldE1ldGFkYXRhIiwiT3JkaW5hcnlNZXRhZGF0YUtleXMiLCJvd25LZXlzIiwicGFyZW50S2V5cyIsIl9pIiwib3duS2V5c18xIiwiaGFzS2V5IiwiX2EiLCJwYXJlbnRLZXlzXzEiLCJjb25zdGFudHNfMSIsInV0aWxzXzEiLCJTWVNURU1fVFlQRVMiLCJTdHJpbmciLCJCb29sZWFuIiwiTnVtYmVyIiwiU1lTVEVNX0NPTlZFUlRFUlMiLCJjb25zdHVjdG9yIiwib3B0aW9ucyIsImluc3RhbmNlIiwic291cmNlTmFtZSIsInByb3BlcnRpZXMiLCJjb25zb2xlIiwid2FybiIsImRlZmF1bHRQcm9wZXJ0aWVzIiwidXNlRGVmYXVsdFNvdXJjZSIsInNsaWNlIiwiZm9yRWFjaCIsImZpbmRJbmRleCIsIm9yZGVyIiwiZ2V0UHJvcGVydGllcyIsInJlc29sdmVQYXRoIiwiY29udmVydCIsImFzc2lnbiIsIl9iIiwiZ2V0Q29udmVydGVyIiwidHlwZSIsIl9zcmMiLCJfZGVzdCIsInByb3BlcnR5XzEiLCJvcHRzIiwiUHJvcGVydHkiLCJmcm9tIiwic2VwYXJhdG9yIiwiZG9tYWluIiwicGF0aCIsImpvaW4iLCJkZXNpZ25UeXBlIiwiZ2V0TWV0YWRhdGEiLCJwYXRoZXMiLCJzcGxpdCIsIm1hdGNoZXMiLCJtYXRjaCIsIm5hbWVfMSIsImluZGV4XzEiLCJjb252ZXJ0XzEiLCJkYXRhX3NvdXJjZV8xIiwiUGVyc29uIiwiX19kZWNvcmF0ZSIsImFzc2VydCIsIm51bSIsImdlbmRlciIsIl9zdXBlciIsIl90aGlzIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfX2V4dGVuZHMiLCJCYXNlIiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsImRlZmF1bHRTZXRUaW1vdXQiLCJFcnJvciIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZnVuIiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlIiwiZHJhaW5pbmciLCJxdWV1ZUluZGV4IiwiY2xlYW5VcE5leHRUaWNrIiwiY29uY2F0IiwiZHJhaW5RdWV1ZSIsInRpbWVvdXQiLCJsZW4iLCJydW4iLCJtYXJrZXIiLCJydW5DbGVhclRpbWVvdXQiLCJJdGVtIiwibm9vcCIsIm5leHRUaWNrIiwiYXJncyIsInRpdGxlIiwiYnJvd3NlciIsImFyZ3YiLCJ2ZXJzaW9uIiwidmVyc2lvbnMiLCJvbiIsImFkZExpc3RlbmVyIiwib25jZSIsIm9mZiIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZW1pdCIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJsaXN0ZW5lcnMiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsImciLCJ3aW5kb3ciLCJfdmFsdWUiLCJjaXR5TmFtZSIsImludHJvIiwiQWRkcmVzcyIsImRhdGFTb3VyY2UxIiwicGVyc29uIiwibGFzdG5hbWUiLCJyZXN1bHQxIiwiZnVsbE5hbWUiLCJyZXN1bHQyIiwiZGF0YVNvdXJjZSJdLCJtYXBwaW5ncyI6IjZEQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUEwREEsT0FyREFGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsRUFBQSxDQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsWUFBQSxDQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQXJCLEVBQUFxQixJQUNB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SSxRQUFRcUMsT0FBdUIsV0FBaEJ6SyxFQUFPOUcsS0FBbUIsV0FDekNrUCxRQUFRcUMsT0FBc0IsS0FBZnpLLEVBQU9oRixJQUFZLGFBQ2xDb04sUUFBUXFDLFFBQXlCLElBQWxCekssRUFBTzJLLE9BQWtCLFlBQ3hDdkMsUUFBUXFDLE9BQU8vTCxNQUFNOEcsUUFBUXhGLEVBQU96RCxRQUFrQyxJQUF4QnlELEVBQU96RCxNQUFNSyxPQUFjLG9rQkN6QjdFckUsRUFBQSxHQUNBLElBQUE2UixFQUFBN1IsRUFBQSxHQUNBK1IsRUFBQS9SLEVBQUEsR0FFQWdTLEVBQUEsb0JBQUFBLEtBS0EsT0FISUMsRUFBQSxDQURDSixFQUFBeFAsUUFBUSxDQUFFOE8sT0FBUSxNQUFPQyxLQUFNLHFFQUdoQ2EsRUFBQSxDQURDSixFQUFBeFAsUUFBUSxDQUFFOE8sT0FBUSxnRUFFdkJhLEVBTEEsR0FNTXZLLEVBQVNvSyxFQUFBdFAsSUFBSXdQLEVBQUF2UCxRQUFZd1AsR0FDM0J2SyxJQUNBb0ksUUFBUXFDLE9BQU96SyxFQUFPOUUsVUFBWW9QLEVBQUF2UCxRQUFXRSxJQUFJQyxPQUFRLFdBQ3pEa04sUUFBUXFDLE9BQU96SyxFQUFPM0UsT0FBU2lQLEVBQUF2UCxRQUFXSSxRQUFRRSxLQUFNIiwiZmlsZSI6InRlc3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gOCk7XG4iLCJpbXBvcnQgeyBtYXBwaW5nIH0gZnJvbSAnLi9zcmMvYW5ub3RhdGlvbic7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICcuL3NyYy9jb252ZXJ0ZXInO1xuXG5leHBvcnQgeyBtYXAsIG1hcHBpbmcgfTsiLCJleHBvcnQgZGVmYXVsdCB7XG4gICAgbmFtZTogJ2Zpc2hlcicsXG4gICAgYWdlOiAnMXMyJyxcbiAgICBzcmM6IHsgbnVtYmVyOiAnMTMnIH0sXG4gICAgYWRkcmVzczoge1xuICAgICAgICBpZDogJzEnLFxuICAgICAgICBjaXR5OiAn5YyX5LqsJyxcbiAgICAgICAgemlwX2NvZGU6ICcxMDA4NicsXG4gICAgfSxcbiAgICBhZGRyZXNzMTogW3tcbiAgICAgICAgaWQ6ICcxJyxcbiAgICAgICAgY2l0eTogJ+WMl+S6rCcsXG4gICAgICAgIHppcF9jb2RlOiAnMTAwODYnLFxuICAgICAgICBhbGlhczogWyfkuqzln44nLCAn5YyX5bmzJ10sXG4gICAgICAgIG90aGVyOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAga2V5OiAna2V5JyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogJzEnXG4gICAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICB9XSxcbiAgICBkYXRlOiAnc2ZzZGYnLFxuICAgIGRhdGVzOiBbRGF0ZSgpXSxcbiAgICBzdGF0aWNQcm9wOiAnMTIzJ1xufSIsImV4cG9ydCBjb25zdCBERUZBVUxUX1BST1BFUlRZX1NPVVJDRSA9ICdkZWZhdWx0JztcbmV4cG9ydCBjb25zdCBERUZBVUxUX1BST1BFUlRZX1NFUCA9ICcuJztcbmV4cG9ydCBjb25zdCBQUk9QRVJUSUVTX0tFWSA9IFN5bWJvbCgnUFJPUEVSVElFU19LRVknKTtcbmV4cG9ydCBjb25zdCBDVVJSRU5UX1BBVEggPSAnLic7IiwiZXhwb3J0IGZ1bmN0aW9uIHZhbGlkQXNzaWduKHNvdXJjZTogYW55LCBkZXN0OiBhbnkpIHtcbiAgICBzb3VyY2UgPSBzb3VyY2UgfHwge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZGVzdCkge1xuICAgICAgICBpZiAoZGVzdFtrZXldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHNvdXJjZVtrZXldID0gZGVzdFtrZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzb3VyY2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwdXNoQnlPcmRlcjxUPihhcnJheTogVFtdLCBpdGVtOiBULCBzZWxlY3RvcjogKGl0ZW06IFQpID0+IGFueSkge1xuICAgIGZvciAobGV0IGluZGV4ID0gMCwgbGVuZ3RoID0gYXJyYXkubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBpZiAoc2VsZWN0b3IoaXRlbSkgPCBzZWxlY3RvcihlbGVtZW50KSkge1xuICAgICAgICAgICAgYXJyYXkuc3BsaWNlKGluZGV4LCAwLCBpdGVtKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXkucHVzaChpdGVtKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWQodmFsdWU6IGFueSkge1xuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHZhbHVlID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHZhbHVlICE9PSB2YWx1ZSAmJiBpc05hTih2YWx1ZSkpIHJldHVybiBmYWxzZTtcbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBEYXRlICYmIGlzTmFOKHZhbHVlLnZhbHVlT2YoKSkpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbn0iLCIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbkNvcHlyaWdodCAoQykgTWljcm9zb2Z0LiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXG5cblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbnZhciBSZWZsZWN0O1xuKGZ1bmN0aW9uIChSZWZsZWN0KSB7XG4gICAgLy8gTWV0YWRhdGEgUHJvcG9zYWxcbiAgICAvLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhL1xuICAgIChmdW5jdGlvbiAoZmFjdG9yeSkge1xuICAgICAgICB2YXIgcm9vdCA9IHR5cGVvZiBnbG9iYWwgPT09IFwib2JqZWN0XCIgPyBnbG9iYWwgOlxuICAgICAgICAgICAgdHlwZW9mIHNlbGYgPT09IFwib2JqZWN0XCIgPyBzZWxmIDpcbiAgICAgICAgICAgICAgICB0eXBlb2YgdGhpcyA9PT0gXCJvYmplY3RcIiA/IHRoaXMgOlxuICAgICAgICAgICAgICAgICAgICBGdW5jdGlvbihcInJldHVybiB0aGlzO1wiKSgpO1xuICAgICAgICB2YXIgZXhwb3J0ZXIgPSBtYWtlRXhwb3J0ZXIoUmVmbGVjdCk7XG4gICAgICAgIGlmICh0eXBlb2Ygcm9vdC5SZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICByb290LlJlZmxlY3QgPSBSZWZsZWN0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZXhwb3J0ZXIgPSBtYWtlRXhwb3J0ZXIocm9vdC5SZWZsZWN0LCBleHBvcnRlcik7XG4gICAgICAgIH1cbiAgICAgICAgZmFjdG9yeShleHBvcnRlcik7XG4gICAgICAgIGZ1bmN0aW9uIG1ha2VFeHBvcnRlcih0YXJnZXQsIHByZXZpb3VzKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldFtrZXldICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzKVxuICAgICAgICAgICAgICAgICAgICBwcmV2aW91cyhrZXksIHZhbHVlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9KShmdW5jdGlvbiAoZXhwb3J0ZXIpIHtcbiAgICAgICAgdmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG4gICAgICAgIC8vIGZlYXR1cmUgdGVzdCBmb3IgU3ltYm9sIHN1cHBvcnRcbiAgICAgICAgdmFyIHN1cHBvcnRzU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiO1xuICAgICAgICB2YXIgdG9QcmltaXRpdmVTeW1ib2wgPSBzdXBwb3J0c1N5bWJvbCAmJiB0eXBlb2YgU3ltYm9sLnRvUHJpbWl0aXZlICE9PSBcInVuZGVmaW5lZFwiID8gU3ltYm9sLnRvUHJpbWl0aXZlIDogXCJAQHRvUHJpbWl0aXZlXCI7XG4gICAgICAgIHZhciBpdGVyYXRvclN5bWJvbCA9IHN1cHBvcnRzU3ltYm9sICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgIT09IFwidW5kZWZpbmVkXCIgPyBTeW1ib2wuaXRlcmF0b3IgOiBcIkBAaXRlcmF0b3JcIjtcbiAgICAgICAgdmFyIHN1cHBvcnRzQ3JlYXRlID0gdHlwZW9mIE9iamVjdC5jcmVhdGUgPT09IFwiZnVuY3Rpb25cIjsgLy8gZmVhdHVyZSB0ZXN0IGZvciBPYmplY3QuY3JlYXRlIHN1cHBvcnRcbiAgICAgICAgdmFyIHN1cHBvcnRzUHJvdG8gPSB7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5OyAvLyBmZWF0dXJlIHRlc3QgZm9yIF9fcHJvdG9fXyBzdXBwb3J0XG4gICAgICAgIHZhciBkb3duTGV2ZWwgPSAhc3VwcG9ydHNDcmVhdGUgJiYgIXN1cHBvcnRzUHJvdG87XG4gICAgICAgIHZhciBIYXNoTWFwID0ge1xuICAgICAgICAgICAgLy8gY3JlYXRlIGFuIG9iamVjdCBpbiBkaWN0aW9uYXJ5IG1vZGUgKGEuay5hLiBcInNsb3dcIiBtb2RlIGluIHY4KVxuICAgICAgICAgICAgY3JlYXRlOiBzdXBwb3J0c0NyZWF0ZVxuICAgICAgICAgICAgICAgID8gZnVuY3Rpb24gKCkgeyByZXR1cm4gTWFrZURpY3Rpb25hcnkoT2JqZWN0LmNyZWF0ZShudWxsKSk7IH1cbiAgICAgICAgICAgICAgICA6IHN1cHBvcnRzUHJvdG9cbiAgICAgICAgICAgICAgICAgICAgPyBmdW5jdGlvbiAoKSB7IHJldHVybiBNYWtlRGljdGlvbmFyeSh7IF9fcHJvdG9fXzogbnVsbCB9KTsgfVxuICAgICAgICAgICAgICAgICAgICA6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIE1ha2VEaWN0aW9uYXJ5KHt9KTsgfSxcbiAgICAgICAgICAgIGhhczogZG93bkxldmVsXG4gICAgICAgICAgICAgICAgPyBmdW5jdGlvbiAobWFwLCBrZXkpIHsgcmV0dXJuIGhhc093bi5jYWxsKG1hcCwga2V5KTsgfVxuICAgICAgICAgICAgICAgIDogZnVuY3Rpb24gKG1hcCwga2V5KSB7IHJldHVybiBrZXkgaW4gbWFwOyB9LFxuICAgICAgICAgICAgZ2V0OiBkb3duTGV2ZWxcbiAgICAgICAgICAgICAgICA/IGZ1bmN0aW9uIChtYXAsIGtleSkgeyByZXR1cm4gaGFzT3duLmNhbGwobWFwLCBrZXkpID8gbWFwW2tleV0gOiB1bmRlZmluZWQ7IH1cbiAgICAgICAgICAgICAgICA6IGZ1bmN0aW9uIChtYXAsIGtleSkgeyByZXR1cm4gbWFwW2tleV07IH0sXG4gICAgICAgIH07XG4gICAgICAgIC8vIExvYWQgZ2xvYmFsIG9yIHNoaW0gdmVyc2lvbnMgb2YgTWFwLCBTZXQsIGFuZCBXZWFrTWFwXG4gICAgICAgIHZhciBmdW5jdGlvblByb3RvdHlwZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihGdW5jdGlvbik7XG4gICAgICAgIHZhciB1c2VQb2x5ZmlsbCA9IHR5cGVvZiBwcm9jZXNzID09PSBcIm9iamVjdFwiICYmIHByb2Nlc3MuZW52ICYmIHByb2Nlc3MuZW52W1wiUkVGTEVDVF9NRVRBREFUQV9VU0VfTUFQX1BPTFlGSUxMXCJdID09PSBcInRydWVcIjtcbiAgICAgICAgdmFyIF9NYXAgPSAhdXNlUG9seWZpbGwgJiYgdHlwZW9mIE1hcCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBNYXAucHJvdG90eXBlLmVudHJpZXMgPT09IFwiZnVuY3Rpb25cIiA/IE1hcCA6IENyZWF0ZU1hcFBvbHlmaWxsKCk7XG4gICAgICAgIHZhciBfU2V0ID0gIXVzZVBvbHlmaWxsICYmIHR5cGVvZiBTZXQgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU2V0LnByb3RvdHlwZS5lbnRyaWVzID09PSBcImZ1bmN0aW9uXCIgPyBTZXQgOiBDcmVhdGVTZXRQb2x5ZmlsbCgpO1xuICAgICAgICB2YXIgX1dlYWtNYXAgPSAhdXNlUG9seWZpbGwgJiYgdHlwZW9mIFdlYWtNYXAgPT09IFwiZnVuY3Rpb25cIiA/IFdlYWtNYXAgOiBDcmVhdGVXZWFrTWFwUG9seWZpbGwoKTtcbiAgICAgICAgLy8gW1tNZXRhZGF0YV1dIGludGVybmFsIHNsb3RcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnktb2JqZWN0LWludGVybmFsLW1ldGhvZHMtYW5kLWludGVybmFsLXNsb3RzXG4gICAgICAgIHZhciBNZXRhZGF0YSA9IG5ldyBfV2Vha01hcCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQXBwbGllcyBhIHNldCBvZiBkZWNvcmF0b3JzIHRvIGEgcHJvcGVydHkgb2YgYSB0YXJnZXQgb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0gZGVjb3JhdG9ycyBBbiBhcnJheSBvZiBkZWNvcmF0b3JzLlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IHRvIGRlY29yYXRlLlxuICAgICAgICAgKiBAcGFyYW0gYXR0cmlidXRlcyAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIGZvciB0aGUgdGFyZ2V0IGtleS5cbiAgICAgICAgICogQHJlbWFya3MgRGVjb3JhdG9ycyBhcmUgYXBwbGllZCBpbiByZXZlcnNlIG9yZGVyLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHkgZGVjbGFyYXRpb25zIGFyZSBub3QgcGFydCBvZiBFUzYsIHRob3VnaCB0aGV5IGFyZSB2YWxpZCBpbiBUeXBlU2NyaXB0OlxuICAgICAgICAgKiAgICAgICAgIC8vIHN0YXRpYyBzdGF0aWNQcm9wZXJ0eTtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICBjb25zdHJ1Y3RvcihwKSB7IH1cbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljTWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIG1ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICBFeGFtcGxlID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzQXJyYXksIEV4YW1wbGUpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzQXJyYXksIEV4YW1wbGUsIFwic3RhdGljUHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzQXJyYXksIEV4YW1wbGUucHJvdG90eXBlLCBcInByb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiLFxuICAgICAgICAgKiAgICAgICAgIFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9yc0FycmF5LCBFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiLFxuICAgICAgICAgKiAgICAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpKSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIixcbiAgICAgICAgICogICAgICAgICBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnNBcnJheSwgRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIsXG4gICAgICAgICAqICAgICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpKSk7XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBkZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIHByb3BlcnR5S2V5LCBhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSkge1xuICAgICAgICAgICAgICAgIGlmICghSXNBcnJheShkZWNvcmF0b3JzKSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QoYXR0cmlidXRlcykgJiYgIUlzVW5kZWZpbmVkKGF0dHJpYnV0ZXMpICYmICFJc051bGwoYXR0cmlidXRlcykpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICBpZiAoSXNOdWxsKGF0dHJpYnV0ZXMpKVxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIERlY29yYXRlUHJvcGVydHkoZGVjb3JhdG9ycywgdGFyZ2V0LCBwcm9wZXJ0eUtleSwgYXR0cmlidXRlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoIUlzQXJyYXkoZGVjb3JhdG9ycykpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICBpZiAoIUlzQ29uc3RydWN0b3IodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiBEZWNvcmF0ZUNvbnN0cnVjdG9yKGRlY29yYXRvcnMsIHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJkZWNvcmF0ZVwiLCBkZWNvcmF0ZSk7XG4gICAgICAgIC8vIDQuMS4yIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpXG4gICAgICAgIC8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvI3JlZmxlY3QubWV0YWRhdGFcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZGVmYXVsdCBtZXRhZGF0YSBkZWNvcmF0b3IgZmFjdG9yeSB0aGF0IGNhbiBiZSB1c2VkIG9uIGEgY2xhc3MsIGNsYXNzIG1lbWJlciwgb3IgcGFyYW1ldGVyLlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFLZXkgVGhlIGtleSBmb3IgdGhlIG1ldGFkYXRhIGVudHJ5LlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFWYWx1ZSBUaGUgdmFsdWUgZm9yIHRoZSBtZXRhZGF0YSBlbnRyeS5cbiAgICAgICAgICogQHJldHVybnMgQSBkZWNvcmF0b3IgZnVuY3Rpb24uXG4gICAgICAgICAqIEByZW1hcmtzXG4gICAgICAgICAqIElmIGBtZXRhZGF0YUtleWAgaXMgYWxyZWFkeSBkZWZpbmVkIGZvciB0aGUgdGFyZ2V0IGFuZCB0YXJnZXQga2V5LCB0aGVcbiAgICAgICAgICogbWV0YWRhdGFWYWx1ZSBmb3IgdGhhdCBrZXkgd2lsbCBiZSBvdmVyd3JpdHRlbi5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICBAUmVmbGVjdC5tZXRhZGF0YShrZXksIHZhbHVlKVxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IsIFR5cGVTY3JpcHQgb25seSlcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIEBSZWZsZWN0Lm1ldGFkYXRhKGtleSwgdmFsdWUpXG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSwgVHlwZVNjcmlwdCBvbmx5KVxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgQFJlZmxlY3QubWV0YWRhdGEoa2V5LCB2YWx1ZSlcbiAgICAgICAgICogICAgICAgICBwcm9wZXJ0eTtcbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICBAUmVmbGVjdC5tZXRhZGF0YShrZXksIHZhbHVlKVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QoKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgQFJlZmxlY3QubWV0YWRhdGEoa2V5LCB2YWx1ZSlcbiAgICAgICAgICogICAgICAgICBtZXRob2QoKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIG1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpICYmICFJc1Byb3BlcnR5S2V5KHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIE9yZGluYXJ5RGVmaW5lT3duTWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUsIHRhcmdldCwgcHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRlY29yYXRvcjtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRlcihcIm1ldGFkYXRhXCIsIG1ldGFkYXRhKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmluZSBhIHVuaXF1ZSBtZXRhZGF0YSBlbnRyeSBvbiB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFLZXkgQSBrZXkgdXNlZCB0byBzdG9yZSBhbmQgcmV0cmlldmUgbWV0YWRhdGEuXG4gICAgICAgICAqIEBwYXJhbSBtZXRhZGF0YVZhbHVlIEEgdmFsdWUgdGhhdCBjb250YWlucyBhdHRhY2hlZCBtZXRhZGF0YS5cbiAgICAgICAgICogQHBhcmFtIHRhcmdldCBUaGUgdGFyZ2V0IG9iamVjdCBvbiB3aGljaCB0byBkZWZpbmUgbWV0YWRhdGEuXG4gICAgICAgICAqIEBwYXJhbSBwcm9wZXJ0eUtleSAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBrZXkgZm9yIHRoZSB0YXJnZXQuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBvcHRpb25zLCBFeGFtcGxlKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBvcHRpb25zLCBFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBvcHRpb25zLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgb3B0aW9ucywgRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBvcHRpb25zLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBkZWNvcmF0b3IgZmFjdG9yeSBhcyBtZXRhZGF0YS1wcm9kdWNpbmcgYW5ub3RhdGlvbi5cbiAgICAgICAgICogICAgIGZ1bmN0aW9uIE15QW5ub3RhdGlvbihvcHRpb25zKTogRGVjb3JhdG9yIHtcbiAgICAgICAgICogICAgICAgICByZXR1cm4gKHRhcmdldCwga2V5PykgPT4gUmVmbGVjdC5kZWZpbmVNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIG9wdGlvbnMsIHRhcmdldCwga2V5KTtcbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGRlZmluZU1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlLCB0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG4gICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHRhcmdldCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgaWYgKCFJc1VuZGVmaW5lZChwcm9wZXJ0eUtleSkpXG4gICAgICAgICAgICAgICAgcHJvcGVydHlLZXkgPSBUb1Byb3BlcnR5S2V5KHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeURlZmluZU93bk1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlLCB0YXJnZXQsIHByb3BlcnR5S2V5KTtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRlcihcImRlZmluZU1ldGFkYXRhXCIsIGRlZmluZU1ldGFkYXRhKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgYSB2YWx1ZSBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHRhcmdldCBvYmplY3Qgb3IgaXRzIHByb3RvdHlwZSBjaGFpbiBoYXMgdGhlIHByb3ZpZGVkIG1ldGFkYXRhIGtleSBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFLZXkgQSBrZXkgdXNlZCB0byBzdG9yZSBhbmQgcmV0cmlldmUgbWV0YWRhdGEuXG4gICAgICAgICAqIEBwYXJhbSB0YXJnZXQgVGhlIHRhcmdldCBvYmplY3Qgb24gd2hpY2ggdGhlIG1ldGFkYXRhIGlzIGRlZmluZWQuXG4gICAgICAgICAqIEBwYXJhbSBwcm9wZXJ0eUtleSAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBrZXkgZm9yIHRoZSB0YXJnZXQuXG4gICAgICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgbWV0YWRhdGEga2V5IHdhcyBkZWZpbmVkIG9uIHRoZSB0YXJnZXQgb2JqZWN0IG9yIGl0cyBwcm90b3R5cGUgY2hhaW47IG90aGVyd2lzZSwgYGZhbHNlYC5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5IGRlY2xhcmF0aW9ucyBhcmUgbm90IHBhcnQgb2YgRVM2LCB0aG91Z2ggdGhleSBhcmUgdmFsaWQgaW4gVHlwZVNjcmlwdDpcbiAgICAgICAgICogICAgICAgICAvLyBzdGF0aWMgc3RhdGljUHJvcGVydHk7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgICAgY29uc3RydWN0b3IocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY01ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgICAgICBtZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBjb25zdHJ1Y3RvclxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUsIFwic3RhdGljUHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUucHJvdG90eXBlLCBcInByb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuaGFzTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUucHJvdG90eXBlLCBcIm1ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGhhc01ldGFkYXRhKG1ldGFkYXRhS2V5LCB0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG4gICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHRhcmdldCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgaWYgKCFJc1VuZGVmaW5lZChwcm9wZXJ0eUtleSkpXG4gICAgICAgICAgICAgICAgcHJvcGVydHlLZXkgPSBUb1Byb3BlcnR5S2V5KHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeUhhc01ldGFkYXRhKG1ldGFkYXRhS2V5LCB0YXJnZXQsIHByb3BlcnR5S2V5KTtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRlcihcImhhc01ldGFkYXRhXCIsIGhhc01ldGFkYXRhKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgYSB2YWx1ZSBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHRhcmdldCBvYmplY3QgaGFzIHRoZSBwcm92aWRlZCBtZXRhZGF0YSBrZXkgZGVmaW5lZC5cbiAgICAgICAgICogQHBhcmFtIG1ldGFkYXRhS2V5IEEga2V5IHVzZWQgdG8gc3RvcmUgYW5kIHJldHJpZXZlIG1ldGFkYXRhLlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IG9uIHdoaWNoIHRoZSBtZXRhZGF0YSBpcyBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IGZvciB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG1ldGFkYXRhIGtleSB3YXMgZGVmaW5lZCBvbiB0aGUgdGFyZ2V0IG9iamVjdDsgb3RoZXJ3aXNlLCBgZmFsc2VgLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHkgZGVjbGFyYXRpb25zIGFyZSBub3QgcGFydCBvZiBFUzYsIHRob3VnaCB0aGV5IGFyZSB2YWxpZCBpbiBUeXBlU2NyaXB0OlxuICAgICAgICAgKiAgICAgICAgIC8vIHN0YXRpYyBzdGF0aWNQcm9wZXJ0eTtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICBjb25zdHJ1Y3RvcihwKSB7IH1cbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljTWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIG1ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc093bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc093bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNQcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc093bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwicHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNPd25NZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc093bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gaGFzT3duTWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSA9IFRvUHJvcGVydHlLZXkocHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgcmV0dXJuIE9yZGluYXJ5SGFzT3duTWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGV4cG9ydGVyKFwiaGFzT3duTWV0YWRhdGFcIiwgaGFzT3duTWV0YWRhdGEpO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyB0aGUgbWV0YWRhdGEgdmFsdWUgZm9yIHRoZSBwcm92aWRlZCBtZXRhZGF0YSBrZXkgb24gdGhlIHRhcmdldCBvYmplY3Qgb3IgaXRzIHByb3RvdHlwZSBjaGFpbi5cbiAgICAgICAgICogQHBhcmFtIG1ldGFkYXRhS2V5IEEga2V5IHVzZWQgdG8gc3RvcmUgYW5kIHJldHJpZXZlIG1ldGFkYXRhLlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IG9uIHdoaWNoIHRoZSBtZXRhZGF0YSBpcyBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IGZvciB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcmV0dXJucyBUaGUgbWV0YWRhdGEgdmFsdWUgZm9yIHRoZSBtZXRhZGF0YSBrZXkgaWYgZm91bmQ7IG90aGVyd2lzZSwgYHVuZGVmaW5lZGAuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRNZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdCh0YXJnZXQpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpKVxuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlHZXRNZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJnZXRNZXRhZGF0YVwiLCBnZXRNZXRhZGF0YSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIHRoZSBtZXRhZGF0YSB2YWx1ZSBmb3IgdGhlIHByb3ZpZGVkIG1ldGFkYXRhIGtleSBvbiB0aGUgdGFyZ2V0IG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIG1ldGFkYXRhS2V5IEEga2V5IHVzZWQgdG8gc3RvcmUgYW5kIHJldHJpZXZlIG1ldGFkYXRhLlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IG9uIHdoaWNoIHRoZSBtZXRhZGF0YSBpcyBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IGZvciB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcmV0dXJucyBUaGUgbWV0YWRhdGEgdmFsdWUgZm9yIHRoZSBtZXRhZGF0YSBrZXkgaWYgZm91bmQ7IG90aGVyd2lzZSwgYHVuZGVmaW5lZGAuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRPd25NZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdCh0YXJnZXQpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpKVxuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlHZXRPd25NZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJnZXRPd25NZXRhZGF0YVwiLCBnZXRPd25NZXRhZGF0YSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIHRoZSBtZXRhZGF0YSBrZXlzIGRlZmluZWQgb24gdGhlIHRhcmdldCBvYmplY3Qgb3IgaXRzIHByb3RvdHlwZSBjaGFpbi5cbiAgICAgICAgICogQHBhcmFtIHRhcmdldCBUaGUgdGFyZ2V0IG9iamVjdCBvbiB3aGljaCB0aGUgbWV0YWRhdGEgaXMgZGVmaW5lZC5cbiAgICAgICAgICogQHBhcmFtIHByb3BlcnR5S2V5IChPcHRpb25hbCkgVGhlIHByb3BlcnR5IGtleSBmb3IgdGhlIHRhcmdldC5cbiAgICAgICAgICogQHJldHVybnMgQW4gYXJyYXkgb2YgdW5pcXVlIG1ldGFkYXRhIGtleXMuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGFLZXlzKEV4YW1wbGUpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRNZXRhZGF0YUtleXMoRXhhbXBsZSwgXCJzdGF0aWNQcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE1ldGFkYXRhS2V5cyhFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE1ldGFkYXRhS2V5cyhFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRNZXRhZGF0YUtleXMoRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZ2V0TWV0YWRhdGFLZXlzKHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSA9IFRvUHJvcGVydHlLZXkocHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgcmV0dXJuIE9yZGluYXJ5TWV0YWRhdGFLZXlzKHRhcmdldCwgcHJvcGVydHlLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGV4cG9ydGVyKFwiZ2V0TWV0YWRhdGFLZXlzXCIsIGdldE1ldGFkYXRhS2V5cyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIHRoZSB1bmlxdWUgbWV0YWRhdGEga2V5cyBkZWZpbmVkIG9uIHRoZSB0YXJnZXQgb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IG9uIHdoaWNoIHRoZSBtZXRhZGF0YSBpcyBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IGZvciB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcmV0dXJucyBBbiBhcnJheSBvZiB1bmlxdWUgbWV0YWRhdGEga2V5cy5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5IGRlY2xhcmF0aW9ucyBhcmUgbm90IHBhcnQgb2YgRVM2LCB0aG91Z2ggdGhleSBhcmUgdmFsaWQgaW4gVHlwZVNjcmlwdDpcbiAgICAgICAgICogICAgICAgICAvLyBzdGF0aWMgc3RhdGljUHJvcGVydHk7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgICAgY29uc3RydWN0b3IocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY01ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgICAgICBtZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBjb25zdHJ1Y3RvclxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRPd25NZXRhZGF0YUtleXMoRXhhbXBsZSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhS2V5cyhFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGFLZXlzKEV4YW1wbGUucHJvdG90eXBlLCBcInByb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGFLZXlzKEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhS2V5cyhFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRPd25NZXRhZGF0YUtleXModGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdCh0YXJnZXQpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpKVxuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlPd25NZXRhZGF0YUtleXModGFyZ2V0LCBwcm9wZXJ0eUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJnZXRPd25NZXRhZGF0YUtleXNcIiwgZ2V0T3duTWV0YWRhdGFLZXlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlbGV0ZXMgdGhlIG1ldGFkYXRhIGVudHJ5IGZyb20gdGhlIHRhcmdldCBvYmplY3Qgd2l0aCB0aGUgcHJvdmlkZWQga2V5LlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFLZXkgQSBrZXkgdXNlZCB0byBzdG9yZSBhbmQgcmV0cmlldmUgbWV0YWRhdGEuXG4gICAgICAgICAqIEBwYXJhbSB0YXJnZXQgVGhlIHRhcmdldCBvYmplY3Qgb24gd2hpY2ggdGhlIG1ldGFkYXRhIGlzIGRlZmluZWQuXG4gICAgICAgICAqIEBwYXJhbSBwcm9wZXJ0eUtleSAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBrZXkgZm9yIHRoZSB0YXJnZXQuXG4gICAgICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgbWV0YWRhdGEgZW50cnkgd2FzIGZvdW5kIGFuZCBkZWxldGVkOyBvdGhlcndpc2UsIGZhbHNlLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHkgZGVjbGFyYXRpb25zIGFyZSBub3QgcGFydCBvZiBFUzYsIHRob3VnaCB0aGV5IGFyZSB2YWxpZCBpbiBUeXBlU2NyaXB0OlxuICAgICAgICAgKiAgICAgICAgIC8vIHN0YXRpYyBzdGF0aWNQcm9wZXJ0eTtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICBjb25zdHJ1Y3RvcihwKSB7IH1cbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljTWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIG1ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNQcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwicHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5kZWxldGVNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZGVsZXRlTWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSA9IFRvUHJvcGVydHlLZXkocHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgdmFyIG1ldGFkYXRhTWFwID0gR2V0T3JDcmVhdGVNZXRhZGF0YU1hcCh0YXJnZXQsIHByb3BlcnR5S2V5LCAvKkNyZWF0ZSovIGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChJc1VuZGVmaW5lZChtZXRhZGF0YU1hcCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgaWYgKCFtZXRhZGF0YU1hcC5kZWxldGUobWV0YWRhdGFLZXkpKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGlmIChtZXRhZGF0YU1hcC5zaXplID4gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIHZhciB0YXJnZXRNZXRhZGF0YSA9IE1ldGFkYXRhLmdldCh0YXJnZXQpO1xuICAgICAgICAgICAgdGFyZ2V0TWV0YWRhdGEuZGVsZXRlKHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgIGlmICh0YXJnZXRNZXRhZGF0YS5zaXplID4gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIE1ldGFkYXRhLmRlbGV0ZSh0YXJnZXQpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJkZWxldGVNZXRhZGF0YVwiLCBkZWxldGVNZXRhZGF0YSk7XG4gICAgICAgIGZ1bmN0aW9uIERlY29yYXRlQ29uc3RydWN0b3IoZGVjb3JhdG9ycywgdGFyZ2V0KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgICAgIHZhciBkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldO1xuICAgICAgICAgICAgICAgIHZhciBkZWNvcmF0ZWQgPSBkZWNvcmF0b3IodGFyZ2V0KTtcbiAgICAgICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKGRlY29yYXRlZCkgJiYgIUlzTnVsbChkZWNvcmF0ZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghSXNDb25zdHJ1Y3RvcihkZWNvcmF0ZWQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSBkZWNvcmF0ZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBEZWNvcmF0ZVByb3BlcnR5KGRlY29yYXRvcnMsIHRhcmdldCwgcHJvcGVydHlLZXksIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV07XG4gICAgICAgICAgICAgICAgdmFyIGRlY29yYXRlZCA9IGRlY29yYXRvcih0YXJnZXQsIHByb3BlcnR5S2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKGRlY29yYXRlZCkgJiYgIUlzTnVsbChkZWNvcmF0ZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QoZGVjb3JhdGVkKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRvciA9IGRlY29yYXRlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRvcjtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBHZXRPckNyZWF0ZU1ldGFkYXRhTWFwKE8sIFAsIENyZWF0ZSkge1xuICAgICAgICAgICAgdmFyIHRhcmdldE1ldGFkYXRhID0gTWV0YWRhdGEuZ2V0KE8pO1xuICAgICAgICAgICAgaWYgKElzVW5kZWZpbmVkKHRhcmdldE1ldGFkYXRhKSkge1xuICAgICAgICAgICAgICAgIGlmICghQ3JlYXRlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHRhcmdldE1ldGFkYXRhID0gbmV3IF9NYXAoKTtcbiAgICAgICAgICAgICAgICBNZXRhZGF0YS5zZXQoTywgdGFyZ2V0TWV0YWRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG1ldGFkYXRhTWFwID0gdGFyZ2V0TWV0YWRhdGEuZ2V0KFApO1xuICAgICAgICAgICAgaWYgKElzVW5kZWZpbmVkKG1ldGFkYXRhTWFwKSkge1xuICAgICAgICAgICAgICAgIGlmICghQ3JlYXRlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIG1ldGFkYXRhTWFwID0gbmV3IF9NYXAoKTtcbiAgICAgICAgICAgICAgICB0YXJnZXRNZXRhZGF0YS5zZXQoUCwgbWV0YWRhdGFNYXApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1ldGFkYXRhTWFwO1xuICAgICAgICB9XG4gICAgICAgIC8vIDMuMS4xLjEgT3JkaW5hcnlIYXNNZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUClcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnloYXNtZXRhZGF0YVxuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeUhhc01ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKSB7XG4gICAgICAgICAgICB2YXIgaGFzT3duID0gT3JkaW5hcnlIYXNPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUCk7XG4gICAgICAgICAgICBpZiAoaGFzT3duKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgdmFyIHBhcmVudCA9IE9yZGluYXJ5R2V0UHJvdG90eXBlT2YoTyk7XG4gICAgICAgICAgICBpZiAoIUlzTnVsbChwYXJlbnQpKVxuICAgICAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeUhhc01ldGFkYXRhKE1ldGFkYXRhS2V5LCBwYXJlbnQsIFApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIDMuMS4yLjEgT3JkaW5hcnlIYXNPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUClcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnloYXNvd25tZXRhZGF0YVxuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeUhhc093bk1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKSB7XG4gICAgICAgICAgICB2YXIgbWV0YWRhdGFNYXAgPSBHZXRPckNyZWF0ZU1ldGFkYXRhTWFwKE8sIFAsIC8qQ3JlYXRlKi8gZmFsc2UpO1xuICAgICAgICAgICAgaWYgKElzVW5kZWZpbmVkKG1ldGFkYXRhTWFwKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gVG9Cb29sZWFuKG1ldGFkYXRhTWFwLmhhcyhNZXRhZGF0YUtleSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIDMuMS4zLjEgT3JkaW5hcnlHZXRNZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUClcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnlnZXRtZXRhZGF0YVxuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeUdldE1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKSB7XG4gICAgICAgICAgICB2YXIgaGFzT3duID0gT3JkaW5hcnlIYXNPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUCk7XG4gICAgICAgICAgICBpZiAoaGFzT3duKVxuICAgICAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeUdldE93bk1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKTtcbiAgICAgICAgICAgIHZhciBwYXJlbnQgPSBPcmRpbmFyeUdldFByb3RvdHlwZU9mKE8pO1xuICAgICAgICAgICAgaWYgKCFJc051bGwocGFyZW50KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlHZXRNZXRhZGF0YShNZXRhZGF0YUtleSwgcGFyZW50LCBQKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gMy4xLjQuMSBPcmRpbmFyeUdldE93bk1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKVxuICAgICAgICAvLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhLyNvcmRpbmFyeWdldG93bm1ldGFkYXRhXG4gICAgICAgIGZ1bmN0aW9uIE9yZGluYXJ5R2V0T3duTWV0YWRhdGEoTWV0YWRhdGFLZXksIE8sIFApIHtcbiAgICAgICAgICAgIHZhciBtZXRhZGF0YU1hcCA9IEdldE9yQ3JlYXRlTWV0YWRhdGFNYXAoTywgUCwgLypDcmVhdGUqLyBmYWxzZSk7XG4gICAgICAgICAgICBpZiAoSXNVbmRlZmluZWQobWV0YWRhdGFNYXApKVxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXR1cm4gbWV0YWRhdGFNYXAuZ2V0KE1ldGFkYXRhS2V5KTtcbiAgICAgICAgfVxuICAgICAgICAvLyAzLjEuNS4xIE9yZGluYXJ5RGVmaW5lT3duTWV0YWRhdGEoTWV0YWRhdGFLZXksIE1ldGFkYXRhVmFsdWUsIE8sIFApXG4gICAgICAgIC8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvI29yZGluYXJ5ZGVmaW5lb3dubWV0YWRhdGFcbiAgICAgICAgZnVuY3Rpb24gT3JkaW5hcnlEZWZpbmVPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTWV0YWRhdGFWYWx1ZSwgTywgUCkge1xuICAgICAgICAgICAgdmFyIG1ldGFkYXRhTWFwID0gR2V0T3JDcmVhdGVNZXRhZGF0YU1hcChPLCBQLCAvKkNyZWF0ZSovIHRydWUpO1xuICAgICAgICAgICAgbWV0YWRhdGFNYXAuc2V0KE1ldGFkYXRhS2V5LCBNZXRhZGF0YVZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyAzLjEuNi4xIE9yZGluYXJ5TWV0YWRhdGFLZXlzKE8sIFApXG4gICAgICAgIC8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvI29yZGluYXJ5bWV0YWRhdGFrZXlzXG4gICAgICAgIGZ1bmN0aW9uIE9yZGluYXJ5TWV0YWRhdGFLZXlzKE8sIFApIHtcbiAgICAgICAgICAgIHZhciBvd25LZXlzID0gT3JkaW5hcnlPd25NZXRhZGF0YUtleXMoTywgUCk7XG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gT3JkaW5hcnlHZXRQcm90b3R5cGVPZihPKTtcbiAgICAgICAgICAgIGlmIChwYXJlbnQgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG93bktleXM7XG4gICAgICAgICAgICB2YXIgcGFyZW50S2V5cyA9IE9yZGluYXJ5TWV0YWRhdGFLZXlzKHBhcmVudCwgUCk7XG4gICAgICAgICAgICBpZiAocGFyZW50S2V5cy5sZW5ndGggPD0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gb3duS2V5cztcbiAgICAgICAgICAgIGlmIChvd25LZXlzLmxlbmd0aCA8PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnRLZXlzO1xuICAgICAgICAgICAgdmFyIHNldCA9IG5ldyBfU2V0KCk7XG4gICAgICAgICAgICB2YXIga2V5cyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBvd25LZXlzXzEgPSBvd25LZXlzOyBfaSA8IG93bktleXNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gb3duS2V5c18xW19pXTtcbiAgICAgICAgICAgICAgICB2YXIgaGFzS2V5ID0gc2V0LmhhcyhrZXkpO1xuICAgICAgICAgICAgICAgIGlmICghaGFzS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHNldC5hZGQoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgX2EgPSAwLCBwYXJlbnRLZXlzXzEgPSBwYXJlbnRLZXlzOyBfYSA8IHBhcmVudEtleXNfMS5sZW5ndGg7IF9hKyspIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gcGFyZW50S2V5c18xW19hXTtcbiAgICAgICAgICAgICAgICB2YXIgaGFzS2V5ID0gc2V0LmhhcyhrZXkpO1xuICAgICAgICAgICAgICAgIGlmICghaGFzS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHNldC5hZGQoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gMy4xLjcuMSBPcmRpbmFyeU93bk1ldGFkYXRhS2V5cyhPLCBQKVxuICAgICAgICAvLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhLyNvcmRpbmFyeW93bm1ldGFkYXRha2V5c1xuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeU93bk1ldGFkYXRhS2V5cyhPLCBQKSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IFtdO1xuICAgICAgICAgICAgdmFyIG1ldGFkYXRhTWFwID0gR2V0T3JDcmVhdGVNZXRhZGF0YU1hcChPLCBQLCAvKkNyZWF0ZSovIGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChJc1VuZGVmaW5lZChtZXRhZGF0YU1hcCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgICAgICAgICB2YXIga2V5c09iaiA9IG1ldGFkYXRhTWFwLmtleXMoKTtcbiAgICAgICAgICAgIHZhciBpdGVyYXRvciA9IEdldEl0ZXJhdG9yKGtleXNPYmopO1xuICAgICAgICAgICAgdmFyIGsgPSAwO1xuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV4dCA9IEl0ZXJhdG9yU3RlcChpdGVyYXRvcik7XG4gICAgICAgICAgICAgICAgaWYgKCFuZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIGtleXMubGVuZ3RoID0gaztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBuZXh0VmFsdWUgPSBJdGVyYXRvclZhbHVlKG5leHQpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGtleXNba10gPSBuZXh0VmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBJdGVyYXRvckNsb3NlKGl0ZXJhdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaysrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIDYgRUNNQVNjcmlwdCBEYXRhIFR5cDBlcyBhbmQgVmFsdWVzXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWVjbWFzY3JpcHQtZGF0YS10eXBlcy1hbmQtdmFsdWVzXG4gICAgICAgIGZ1bmN0aW9uIFR5cGUoeCkge1xuICAgICAgICAgICAgaWYgKHggPT09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIDEgLyogTnVsbCAqLztcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHgpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6IHJldHVybiAwIC8qIFVuZGVmaW5lZCAqLztcbiAgICAgICAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOiByZXR1cm4gMiAvKiBCb29sZWFuICovO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjogcmV0dXJuIDMgLyogU3RyaW5nICovO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjogcmV0dXJuIDQgLyogU3ltYm9sICovO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjogcmV0dXJuIDUgLyogTnVtYmVyICovO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjogcmV0dXJuIHggPT09IG51bGwgPyAxIC8qIE51bGwgKi8gOiA2IC8qIE9iamVjdCAqLztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gNiAvKiBPYmplY3QgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gNi4xLjEgVGhlIFVuZGVmaW5lZCBUeXBlXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMtdW5kZWZpbmVkLXR5cGVcbiAgICAgICAgZnVuY3Rpb24gSXNVbmRlZmluZWQoeCkge1xuICAgICAgICAgICAgcmV0dXJuIHggPT09IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyA2LjEuMiBUaGUgTnVsbCBUeXBlXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMtbnVsbC10eXBlXG4gICAgICAgIGZ1bmN0aW9uIElzTnVsbCh4KSB7XG4gICAgICAgICAgICByZXR1cm4geCA9PT0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyA2LjEuNSBUaGUgU3ltYm9sIFR5cGVcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcy1zeW1ib2wtdHlwZVxuICAgICAgICBmdW5jdGlvbiBJc1N5bWJvbCh4KSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHggPT09IFwic3ltYm9sXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNi4xLjcgVGhlIE9iamVjdCBUeXBlXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9iamVjdC10eXBlXG4gICAgICAgIGZ1bmN0aW9uIElzT2JqZWN0KHgpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgeCA9PT0gXCJvYmplY3RcIiA/IHggIT09IG51bGwgOiB0eXBlb2YgeCA9PT0gXCJmdW5jdGlvblwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuMSBUeXBlIENvbnZlcnNpb25cbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtdHlwZS1jb252ZXJzaW9uXG4gICAgICAgIC8vIDcuMS4xIFRvUHJpbWl0aXZlKGlucHV0IFssIFByZWZlcnJlZFR5cGVdKVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy10b3ByaW1pdGl2ZVxuICAgICAgICBmdW5jdGlvbiBUb1ByaW1pdGl2ZShpbnB1dCwgUHJlZmVycmVkVHlwZSkge1xuICAgICAgICAgICAgc3dpdGNoIChUeXBlKGlucHV0KSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMCAvKiBVbmRlZmluZWQgKi86IHJldHVybiBpbnB1dDtcbiAgICAgICAgICAgICAgICBjYXNlIDEgLyogTnVsbCAqLzogcmV0dXJuIGlucHV0O1xuICAgICAgICAgICAgICAgIGNhc2UgMiAvKiBCb29sZWFuICovOiByZXR1cm4gaW5wdXQ7XG4gICAgICAgICAgICAgICAgY2FzZSAzIC8qIFN0cmluZyAqLzogcmV0dXJuIGlucHV0O1xuICAgICAgICAgICAgICAgIGNhc2UgNCAvKiBTeW1ib2wgKi86IHJldHVybiBpbnB1dDtcbiAgICAgICAgICAgICAgICBjYXNlIDUgLyogTnVtYmVyICovOiByZXR1cm4gaW5wdXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaGludCA9IFByZWZlcnJlZFR5cGUgPT09IDMgLyogU3RyaW5nICovID8gXCJzdHJpbmdcIiA6IFByZWZlcnJlZFR5cGUgPT09IDUgLyogTnVtYmVyICovID8gXCJudW1iZXJcIiA6IFwiZGVmYXVsdFwiO1xuICAgICAgICAgICAgdmFyIGV4b3RpY1RvUHJpbSA9IEdldE1ldGhvZChpbnB1dCwgdG9QcmltaXRpdmVTeW1ib2wpO1xuICAgICAgICAgICAgaWYgKGV4b3RpY1RvUHJpbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGV4b3RpY1RvUHJpbS5jYWxsKGlucHV0LCBoaW50KTtcbiAgICAgICAgICAgICAgICBpZiAoSXNPYmplY3QocmVzdWx0KSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlUb1ByaW1pdGl2ZShpbnB1dCwgaGludCA9PT0gXCJkZWZhdWx0XCIgPyBcIm51bWJlclwiIDogaGludCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy4xLjEuMSBPcmRpbmFyeVRvUHJpbWl0aXZlKE8sIGhpbnQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9yZGluYXJ5dG9wcmltaXRpdmVcbiAgICAgICAgZnVuY3Rpb24gT3JkaW5hcnlUb1ByaW1pdGl2ZShPLCBoaW50KSB7XG4gICAgICAgICAgICBpZiAoaGludCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHZhciB0b1N0cmluZ18xID0gTy50b1N0cmluZztcbiAgICAgICAgICAgICAgICBpZiAoSXNDYWxsYWJsZSh0b1N0cmluZ18xKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdG9TdHJpbmdfMS5jYWxsKE8pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHJlc3VsdCkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdmFsdWVPZiA9IE8udmFsdWVPZjtcbiAgICAgICAgICAgICAgICBpZiAoSXNDYWxsYWJsZSh2YWx1ZU9mKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdmFsdWVPZi5jYWxsKE8pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHJlc3VsdCkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZU9mID0gTy52YWx1ZU9mO1xuICAgICAgICAgICAgICAgIGlmIChJc0NhbGxhYmxlKHZhbHVlT2YpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB2YWx1ZU9mLmNhbGwoTyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QocmVzdWx0KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciB0b1N0cmluZ18yID0gTy50b1N0cmluZztcbiAgICAgICAgICAgICAgICBpZiAoSXNDYWxsYWJsZSh0b1N0cmluZ18yKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdG9TdHJpbmdfMi5jYWxsKE8pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHJlc3VsdCkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjEuMiBUb0Jvb2xlYW4oYXJndW1lbnQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8yMDE2LyNzZWMtdG9ib29sZWFuXG4gICAgICAgIGZ1bmN0aW9uIFRvQm9vbGVhbihhcmd1bWVudCkge1xuICAgICAgICAgICAgcmV0dXJuICEhYXJndW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy4xLjEyIFRvU3RyaW5nKGFyZ3VtZW50KVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy10b3N0cmluZ1xuICAgICAgICBmdW5jdGlvbiBUb1N0cmluZyhhcmd1bWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIFwiXCIgKyBhcmd1bWVudDtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjEuMTQgVG9Qcm9wZXJ0eUtleShhcmd1bWVudClcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtdG9wcm9wZXJ0eWtleVxuICAgICAgICBmdW5jdGlvbiBUb1Byb3BlcnR5S2V5KGFyZ3VtZW50KSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gVG9QcmltaXRpdmUoYXJndW1lbnQsIDMgLyogU3RyaW5nICovKTtcbiAgICAgICAgICAgIGlmIChJc1N5bWJvbChrZXkpKVxuICAgICAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgICAgICByZXR1cm4gVG9TdHJpbmcoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjIgVGVzdGluZyBhbmQgQ29tcGFyaXNvbiBPcGVyYXRpb25zXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXRlc3RpbmctYW5kLWNvbXBhcmlzb24tb3BlcmF0aW9uc1xuICAgICAgICAvLyA3LjIuMiBJc0FycmF5KGFyZ3VtZW50KVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1pc2FycmF5XG4gICAgICAgIGZ1bmN0aW9uIElzQXJyYXkoYXJndW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5XG4gICAgICAgICAgICAgICAgPyBBcnJheS5pc0FycmF5KGFyZ3VtZW50KVxuICAgICAgICAgICAgICAgIDogYXJndW1lbnQgaW5zdGFuY2VvZiBPYmplY3RcbiAgICAgICAgICAgICAgICAgICAgPyBhcmd1bWVudCBpbnN0YW5jZW9mIEFycmF5XG4gICAgICAgICAgICAgICAgICAgIDogT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZ3VtZW50KSA9PT0gXCJbb2JqZWN0IEFycmF5XVwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuMi4zIElzQ2FsbGFibGUoYXJndW1lbnQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWlzY2FsbGFibGVcbiAgICAgICAgZnVuY3Rpb24gSXNDYWxsYWJsZShhcmd1bWVudCkge1xuICAgICAgICAgICAgLy8gTk9URTogVGhpcyBpcyBhbiBhcHByb3hpbWF0aW9uIGFzIHdlIGNhbm5vdCBjaGVjayBmb3IgW1tDYWxsXV0gaW50ZXJuYWwgbWV0aG9kLlxuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBhcmd1bWVudCA9PT0gXCJmdW5jdGlvblwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuMi40IElzQ29uc3RydWN0b3IoYXJndW1lbnQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWlzY29uc3RydWN0b3JcbiAgICAgICAgZnVuY3Rpb24gSXNDb25zdHJ1Y3Rvcihhcmd1bWVudCkge1xuICAgICAgICAgICAgLy8gTk9URTogVGhpcyBpcyBhbiBhcHByb3hpbWF0aW9uIGFzIHdlIGNhbm5vdCBjaGVjayBmb3IgW1tDb25zdHJ1Y3RdXSBpbnRlcm5hbCBtZXRob2QuXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIGFyZ3VtZW50ID09PSBcImZ1bmN0aW9uXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy4yLjcgSXNQcm9wZXJ0eUtleShhcmd1bWVudClcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtaXNwcm9wZXJ0eWtleVxuICAgICAgICBmdW5jdGlvbiBJc1Byb3BlcnR5S2V5KGFyZ3VtZW50KSB7XG4gICAgICAgICAgICBzd2l0Y2ggKFR5cGUoYXJndW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAzIC8qIFN0cmluZyAqLzogcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0IC8qIFN5bWJvbCAqLzogcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIDcuMyBPcGVyYXRpb25zIG9uIE9iamVjdHNcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtb3BlcmF0aW9ucy1vbi1vYmplY3RzXG4gICAgICAgIC8vIDcuMy45IEdldE1ldGhvZChWLCBQKVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1nZXRtZXRob2RcbiAgICAgICAgZnVuY3Rpb24gR2V0TWV0aG9kKFYsIFApIHtcbiAgICAgICAgICAgIHZhciBmdW5jID0gVltQXTtcbiAgICAgICAgICAgIGlmIChmdW5jID09PSB1bmRlZmluZWQgfHwgZnVuYyA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKCFJc0NhbGxhYmxlKGZ1bmMpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuNCBPcGVyYXRpb25zIG9uIEl0ZXJhdG9yIE9iamVjdHNcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtb3BlcmF0aW9ucy1vbi1pdGVyYXRvci1vYmplY3RzXG4gICAgICAgIGZ1bmN0aW9uIEdldEl0ZXJhdG9yKG9iaikge1xuICAgICAgICAgICAgdmFyIG1ldGhvZCA9IEdldE1ldGhvZChvYmosIGl0ZXJhdG9yU3ltYm9sKTtcbiAgICAgICAgICAgIGlmICghSXNDYWxsYWJsZShtZXRob2QpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTsgLy8gZnJvbSBDYWxsXG4gICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBtZXRob2QuY2FsbChvYmopO1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdChpdGVyYXRvcikpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuNC40IEl0ZXJhdG9yVmFsdWUoaXRlclJlc3VsdClcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLzIwMTYvI3NlYy1pdGVyYXRvcnZhbHVlXG4gICAgICAgIGZ1bmN0aW9uIEl0ZXJhdG9yVmFsdWUoaXRlclJlc3VsdCkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZXJSZXN1bHQudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy40LjUgSXRlcmF0b3JTdGVwKGl0ZXJhdG9yKVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1pdGVyYXRvcnN0ZXBcbiAgICAgICAgZnVuY3Rpb24gSXRlcmF0b3JTdGVwKGl0ZXJhdG9yKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gZmFsc2UgOiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy40LjYgSXRlcmF0b3JDbG9zZShpdGVyYXRvciwgY29tcGxldGlvbilcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtaXRlcmF0b3JjbG9zZVxuICAgICAgICBmdW5jdGlvbiBJdGVyYXRvckNsb3NlKGl0ZXJhdG9yKSB7XG4gICAgICAgICAgICB2YXIgZiA9IGl0ZXJhdG9yW1wicmV0dXJuXCJdO1xuICAgICAgICAgICAgaWYgKGYpXG4gICAgICAgICAgICAgICAgZi5jYWxsKGl0ZXJhdG9yKTtcbiAgICAgICAgfVxuICAgICAgICAvLyA5LjEgT3JkaW5hcnkgT2JqZWN0IEludGVybmFsIE1ldGhvZHMgYW5kIEludGVybmFsIFNsb3RzXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9yZGluYXJ5LW9iamVjdC1pbnRlcm5hbC1tZXRob2RzLWFuZC1pbnRlcm5hbC1zbG90c1xuICAgICAgICAvLyA5LjEuMS4xIE9yZGluYXJ5R2V0UHJvdG90eXBlT2YoTylcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtb3JkaW5hcnlnZXRwcm90b3R5cGVvZlxuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeUdldFByb3RvdHlwZU9mKE8pIHtcbiAgICAgICAgICAgIHZhciBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihPKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgTyAhPT0gXCJmdW5jdGlvblwiIHx8IE8gPT09IGZ1bmN0aW9uUHJvdG90eXBlKVxuICAgICAgICAgICAgICAgIHJldHVybiBwcm90bztcbiAgICAgICAgICAgIC8vIFR5cGVTY3JpcHQgZG9lc24ndCBzZXQgX19wcm90b19fIGluIEVTNSwgYXMgaXQncyBub24tc3RhbmRhcmQuXG4gICAgICAgICAgICAvLyBUcnkgdG8gZGV0ZXJtaW5lIHRoZSBzdXBlcmNsYXNzIGNvbnN0cnVjdG9yLiBDb21wYXRpYmxlIGltcGxlbWVudGF0aW9uc1xuICAgICAgICAgICAgLy8gbXVzdCBlaXRoZXIgc2V0IF9fcHJvdG9fXyBvbiBhIHN1YmNsYXNzIGNvbnN0cnVjdG9yIHRvIHRoZSBzdXBlcmNsYXNzIGNvbnN0cnVjdG9yLFxuICAgICAgICAgICAgLy8gb3IgZW5zdXJlIGVhY2ggY2xhc3MgaGFzIGEgdmFsaWQgYGNvbnN0cnVjdG9yYCBwcm9wZXJ0eSBvbiBpdHMgcHJvdG90eXBlIHRoYXRcbiAgICAgICAgICAgIC8vIHBvaW50cyBiYWNrIHRvIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgbm90IHRoZSBzYW1lIGFzIEZ1bmN0aW9uLltbUHJvdG90eXBlXV0sIHRoZW4gdGhpcyBpcyBkZWZpbmF0ZWx5IGluaGVyaXRlZC5cbiAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGNhc2Ugd2hlbiBpbiBFUzYgb3Igd2hlbiB1c2luZyBfX3Byb3RvX18gaW4gYSBjb21wYXRpYmxlIGJyb3dzZXIuXG4gICAgICAgICAgICBpZiAocHJvdG8gIT09IGZ1bmN0aW9uUHJvdG90eXBlKVxuICAgICAgICAgICAgICAgIHJldHVybiBwcm90bztcbiAgICAgICAgICAgIC8vIElmIHRoZSBzdXBlciBwcm90b3R5cGUgaXMgT2JqZWN0LnByb3RvdHlwZSwgbnVsbCwgb3IgdW5kZWZpbmVkLCB0aGVuIHdlIGNhbm5vdCBkZXRlcm1pbmUgdGhlIGhlcml0YWdlLlxuICAgICAgICAgICAgdmFyIHByb3RvdHlwZSA9IE8ucHJvdG90eXBlO1xuICAgICAgICAgICAgdmFyIHByb3RvdHlwZVByb3RvID0gcHJvdG90eXBlICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90b3R5cGUpO1xuICAgICAgICAgICAgaWYgKHByb3RvdHlwZVByb3RvID09IG51bGwgfHwgcHJvdG90eXBlUHJvdG8gPT09IE9iamVjdC5wcm90b3R5cGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3RvO1xuICAgICAgICAgICAgLy8gSWYgdGhlIGNvbnN0cnVjdG9yIHdhcyBub3QgYSBmdW5jdGlvbiwgdGhlbiB3ZSBjYW5ub3QgZGV0ZXJtaW5lIHRoZSBoZXJpdGFnZS5cbiAgICAgICAgICAgIHZhciBjb25zdHJ1Y3RvciA9IHByb3RvdHlwZVByb3RvLmNvbnN0cnVjdG9yO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25zdHJ1Y3RvciAhPT0gXCJmdW5jdGlvblwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBwcm90bztcbiAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgc29tZSBraW5kIG9mIHNlbGYtcmVmZXJlbmNlLCB0aGVuIHdlIGNhbm5vdCBkZXRlcm1pbmUgdGhlIGhlcml0YWdlLlxuICAgICAgICAgICAgaWYgKGNvbnN0cnVjdG9yID09PSBPKVxuICAgICAgICAgICAgICAgIHJldHVybiBwcm90bztcbiAgICAgICAgICAgIC8vIHdlIGhhdmUgYSBwcmV0dHkgZ29vZCBndWVzcyBhdCB0aGUgaGVyaXRhZ2UuXG4gICAgICAgICAgICByZXR1cm4gY29uc3RydWN0b3I7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbmFpdmUgTWFwIHNoaW1cbiAgICAgICAgZnVuY3Rpb24gQ3JlYXRlTWFwUG9seWZpbGwoKSB7XG4gICAgICAgICAgICB2YXIgY2FjaGVTZW50aW5lbCA9IHt9O1xuICAgICAgICAgICAgdmFyIGFycmF5U2VudGluZWwgPSBbXTtcbiAgICAgICAgICAgIHZhciBNYXBJdGVyYXRvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBNYXBJdGVyYXRvcihrZXlzLCB2YWx1ZXMsIHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5cyA9IGtleXM7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlcyA9IHZhbHVlcztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgTWFwSXRlcmF0b3IucHJvdG90eXBlW1wiQEBpdGVyYXRvclwiXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG4gICAgICAgICAgICAgICAgTWFwSXRlcmF0b3IucHJvdG90eXBlW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG4gICAgICAgICAgICAgICAgTWFwSXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX2luZGV4O1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IHRoaXMuX2tleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5fc2VsZWN0b3IodGhpcy5fa2V5c1tpbmRleF0sIHRoaXMuX3ZhbHVlc1tpbmRleF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ICsgMSA+PSB0aGlzLl9rZXlzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5cyA9IGFycmF5U2VudGluZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzID0gYXJyYXlTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogcmVzdWx0LCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIE1hcEl0ZXJhdG9yLnByb3RvdHlwZS50aHJvdyA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5kZXggPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleXMgPSBhcnJheVNlbnRpbmVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzID0gYXJyYXlTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIE1hcEl0ZXJhdG9yLnByb3RvdHlwZS5yZXR1cm4gPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2luZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXlzID0gYXJyYXlTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlcyA9IGFycmF5U2VudGluZWw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHZhbHVlLCBkb25lOiB0cnVlIH07XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gTWFwSXRlcmF0b3I7XG4gICAgICAgICAgICB9KCkpO1xuICAgICAgICAgICAgcmV0dXJuIC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBNYXAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzID0gW107XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlS2V5ID0gY2FjaGVTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVJbmRleCA9IC0yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWFwLnByb3RvdHlwZSwgXCJzaXplXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9rZXlzLmxlbmd0aDsgfSxcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiB0aGlzLl9maW5kKGtleSwgLyppbnNlcnQqLyBmYWxzZSkgPj0gMDsgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5fZmluZChrZXksIC8qaW5zZXJ0Ki8gZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXggPj0gMCA/IHRoaXMuX3ZhbHVlc1tpbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX2ZpbmQoa2V5LCAvKmluc2VydCovIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXNbaW5kZXhdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX2ZpbmQoa2V5LCAvKmluc2VydCovIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaXplID0gdGhpcy5fa2V5cy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gaW5kZXggKyAxOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5c1tpIC0gMV0gPSB0aGlzLl9rZXlzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlc1tpIC0gMV0gPSB0aGlzLl92YWx1ZXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXlzLmxlbmd0aC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzLmxlbmd0aC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gdGhpcy5fY2FjaGVLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZUtleSA9IGNhY2hlU2VudGluZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVJbmRleCA9IC0yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5cy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVLZXkgPSBjYWNoZVNlbnRpbmVsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZUluZGV4ID0gLTI7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgTWFwSXRlcmF0b3IodGhpcy5fa2V5cywgdGhpcy5fdmFsdWVzLCBnZXRLZXkpOyB9O1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IE1hcEl0ZXJhdG9yKHRoaXMuX2tleXMsIHRoaXMuX3ZhbHVlcywgZ2V0VmFsdWUpOyB9O1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBNYXBJdGVyYXRvcih0aGlzLl9rZXlzLCB0aGlzLl92YWx1ZXMsIGdldEVudHJ5KTsgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlW1wiQEBpdGVyYXRvclwiXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZW50cmllcygpOyB9O1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGVbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5lbnRyaWVzKCk7IH07XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS5fZmluZCA9IGZ1bmN0aW9uIChrZXksIGluc2VydCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2FjaGVLZXkgIT09IGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVJbmRleCA9IHRoaXMuX2tleXMuaW5kZXhPZih0aGlzLl9jYWNoZUtleSA9IGtleSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NhY2hlSW5kZXggPCAwICYmIGluc2VydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVJbmRleCA9IHRoaXMuX2tleXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXMucHVzaCh1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZUluZGV4O1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hcDtcbiAgICAgICAgICAgIH0oKSk7XG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRLZXkoa2V5LCBfKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFZhbHVlKF8sIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0RW50cnkoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBba2V5LCB2YWx1ZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gbmFpdmUgU2V0IHNoaW1cbiAgICAgICAgZnVuY3Rpb24gQ3JlYXRlU2V0UG9seWZpbGwoKSB7XG4gICAgICAgICAgICByZXR1cm4gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIFNldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFwID0gbmV3IF9NYXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNldC5wcm90b3R5cGUsIFwic2l6ZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fbWFwLnNpemU7IH0sXG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB0aGlzLl9tYXAuaGFzKHZhbHVlKTsgfTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gdGhpcy5fbWFwLnNldCh2YWx1ZSwgdmFsdWUpLCB0aGlzOyB9O1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB0aGlzLl9tYXAuZGVsZXRlKHZhbHVlKTsgfTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkgeyB0aGlzLl9tYXAuY2xlYXIoKTsgfTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9tYXAua2V5cygpOyB9O1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fbWFwLnZhbHVlcygpOyB9O1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX21hcC5lbnRyaWVzKCk7IH07XG4gICAgICAgICAgICAgICAgU2V0LnByb3RvdHlwZVtcIkBAaXRlcmF0b3JcIl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmtleXMoKTsgfTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMua2V5cygpOyB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBTZXQ7XG4gICAgICAgICAgICB9KCkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5haXZlIFdlYWtNYXAgc2hpbVxuICAgICAgICBmdW5jdGlvbiBDcmVhdGVXZWFrTWFwUG9seWZpbGwoKSB7XG4gICAgICAgICAgICB2YXIgVVVJRF9TSVpFID0gMTY7XG4gICAgICAgICAgICB2YXIga2V5cyA9IEhhc2hNYXAuY3JlYXRlKCk7XG4gICAgICAgICAgICB2YXIgcm9vdEtleSA9IENyZWF0ZVVuaXF1ZUtleSgpO1xuICAgICAgICAgICAgcmV0dXJuIC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBXZWFrTWFwKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXkgPSBDcmVhdGVVbmlxdWVLZXkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgV2Vha01hcC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGUgPSBHZXRPckNyZWF0ZVdlYWtNYXBUYWJsZSh0YXJnZXQsIC8qY3JlYXRlKi8gZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFibGUgIT09IHVuZGVmaW5lZCA/IEhhc2hNYXAuaGFzKHRhYmxlLCB0aGlzLl9rZXkpIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBXZWFrTWFwLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZSA9IEdldE9yQ3JlYXRlV2Vha01hcFRhYmxlKHRhcmdldCwgLypjcmVhdGUqLyBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZSAhPT0gdW5kZWZpbmVkID8gSGFzaE1hcC5nZXQodGFibGUsIHRoaXMuX2tleSkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBXZWFrTWFwLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAodGFyZ2V0LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGUgPSBHZXRPckNyZWF0ZVdlYWtNYXBUYWJsZSh0YXJnZXQsIC8qY3JlYXRlKi8gdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRhYmxlW3RoaXMuX2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBXZWFrTWFwLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZSA9IEdldE9yQ3JlYXRlV2Vha01hcFRhYmxlKHRhcmdldCwgLypjcmVhdGUqLyBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZSAhPT0gdW5kZWZpbmVkID8gZGVsZXRlIHRhYmxlW3RoaXMuX2tleV0gOiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFdlYWtNYXAucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBOT1RFOiBub3QgYSByZWFsIGNsZWFyLCBqdXN0IG1ha2VzIHRoZSBwcmV2aW91cyBkYXRhIHVucmVhY2hhYmxlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleSA9IENyZWF0ZVVuaXF1ZUtleSgpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIFdlYWtNYXA7XG4gICAgICAgICAgICB9KCkpO1xuICAgICAgICAgICAgZnVuY3Rpb24gQ3JlYXRlVW5pcXVlS2V5KCkge1xuICAgICAgICAgICAgICAgIHZhciBrZXk7XG4gICAgICAgICAgICAgICAgZG9cbiAgICAgICAgICAgICAgICAgICAga2V5ID0gXCJAQFdlYWtNYXBAQFwiICsgQ3JlYXRlVVVJRCgpO1xuICAgICAgICAgICAgICAgIHdoaWxlIChIYXNoTWFwLmhhcyhrZXlzLCBrZXkpKTtcbiAgICAgICAgICAgICAgICBrZXlzW2tleV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBHZXRPckNyZWF0ZVdlYWtNYXBUYWJsZSh0YXJnZXQsIGNyZWF0ZSkge1xuICAgICAgICAgICAgICAgIGlmICghaGFzT3duLmNhbGwodGFyZ2V0LCByb290S2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNyZWF0ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHJvb3RLZXksIHsgdmFsdWU6IEhhc2hNYXAuY3JlYXRlKCkgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXRbcm9vdEtleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBGaWxsUmFuZG9tQnl0ZXMoYnVmZmVyLCBzaXplKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyArK2kpXG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlcltpXSA9IE1hdGgucmFuZG9tKCkgKiAweGZmIHwgMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYnVmZmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gR2VuUmFuZG9tQnl0ZXMoc2l6ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgVWludDhBcnJheSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY3J5cHRvICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoc2l6ZSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1zQ3J5cHRvICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheShzaXplKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBGaWxsUmFuZG9tQnl0ZXMobmV3IFVpbnQ4QXJyYXkoc2l6ZSksIHNpemUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gRmlsbFJhbmRvbUJ5dGVzKG5ldyBBcnJheShzaXplKSwgc2l6ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBDcmVhdGVVVUlEKCkge1xuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gR2VuUmFuZG9tQnl0ZXMoVVVJRF9TSVpFKTtcbiAgICAgICAgICAgICAgICAvLyBtYXJrIGFzIHJhbmRvbSAtIFJGQyA0MTIyIMKnIDQuNFxuICAgICAgICAgICAgICAgIGRhdGFbNl0gPSBkYXRhWzZdICYgMHg0ZiB8IDB4NDA7XG4gICAgICAgICAgICAgICAgZGF0YVs4XSA9IGRhdGFbOF0gJiAweGJmIHwgMHg4MDtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gXCJcIjtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSAwOyBvZmZzZXQgPCBVVUlEX1NJWkU7ICsrb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBieXRlID0gZGF0YVtvZmZzZXRdO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2Zmc2V0ID09PSA0IHx8IG9mZnNldCA9PT0gNiB8fCBvZmZzZXQgPT09IDgpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gXCItXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChieXRlIDwgMTYpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gXCIwXCI7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBieXRlLnRvU3RyaW5nKDE2KS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHVzZXMgYSBoZXVyaXN0aWMgdXNlZCBieSB2OCBhbmQgY2hha3JhIHRvIGZvcmNlIGFuIG9iamVjdCBpbnRvIGRpY3Rpb25hcnkgbW9kZS5cbiAgICAgICAgZnVuY3Rpb24gTWFrZURpY3Rpb25hcnkob2JqKSB7XG4gICAgICAgICAgICBvYmouX18gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBkZWxldGUgb2JqLl9fO1xuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuICAgIH0pO1xufSkoUmVmbGVjdCB8fCAoUmVmbGVjdCA9IHt9KSk7XG4iLCJpbXBvcnQgeyBQcm9wZXJ0eVR5cGUsIElNYXBwaW5nT3B0aW9ucywgSUNvbnZlcnRlciB9IGZyb20gXCIuL2ludGVyZmFjZVwiO1xuaW1wb3J0IHsgREVGQVVMVF9QUk9QRVJUWV9TT1VSQ0UsIFBST1BFUlRJRVNfS0VZIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBQcm9wZXJ0eSB9IGZyb20gXCIuL3Byb3BlcnR5XCI7XG5pbXBvcnQgeyBwdXNoQnlPcmRlciwgaXNWYWxpZCB9IGZyb20gXCIuL3V0aWxzXCI7XG5cbmNvbnN0IFNZU1RFTV9UWVBFUzogQXJyYXk8UHJvcGVydHlUeXBlPGFueT4+ID0gW1N0cmluZywgQm9vbGVhbiwgTnVtYmVyLCBEYXRlXTtcblxuY29uc3QgU1lTVEVNX0NPTlZFUlRFUlM6IEFycmF5PElDb252ZXJ0ZXI8YW55Pj4gPSBbXG4gICh2YWx1ZSkgPT4gaXNWYWxpZCh2YWx1ZSkgPyBTdHJpbmcodmFsdWUpIDogdmFsdWUsXG4gICh2YWx1ZSkgPT4gQm9vbGVhbih2YWx1ZSksXG4gICh2YWx1ZSkgPT4gTnVtYmVyKHZhbHVlKSxcbiAgKHZhbHVlKSA9PiBpc1ZhbGlkKHZhbHVlKSA/IG5ldyBEYXRlKHZhbHVlKSA6IHZhbHVlLFxuXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbnZlcnRlcjxUPih0eXBlPzogUHJvcGVydHlUeXBlPFQ+KTogSUNvbnZlcnRlcjxUPiB7XG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGlmIChQUk9QRVJUSUVTX0tFWSBpbiB0eXBlLnByb3RvdHlwZSkge1xuICAgICAgcmV0dXJuICh2YWx1ZTogYW55LCBfc3JjOiBhbnksIF9kZXN0OiBULCBvcHRpb25zPzogSU1hcHBpbmdPcHRpb25zKSA9PiBtYXAodmFsdWUsIHR5cGUgYXMgYW55LCBvcHRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgaW5kZXggPSBTWVNURU1fVFlQRVMuaW5kZXhPZih0eXBlKTtcbiAgICAgIGlmICh+aW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIFNZU1RFTV9DT05WRVJURVJTW2luZGV4XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0eXBlIGFzIGFueTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuICh2YWx1ZTogYW55KSA9PiB2YWx1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRQcm9wZXJ0aWVzPFQ+KGNvbnN0dWN0b3I6IGFueSwgb3B0aW9ucz86IElNYXBwaW5nT3B0aW9ucykge1xuICBjb25zdCBzb3VyY2VOYW1lID0gb3B0aW9ucyAmJiBvcHRpb25zLnNvdXJjZSB8fCBERUZBVUxUX1BST1BFUlRZX1NPVVJDRTtcbiAgY29uc3QgcHJvcGVydGllczogUmVjb3JkPHN0cmluZywgQXJyYXk8UHJvcGVydHk8VD4+PiA9IGNvbnN0dWN0b3IucHJvdG90eXBlW1BST1BFUlRJRVNfS0VZXTtcbiAgaWYgKCFwcm9wZXJ0aWVzIHx8ICEoc291cmNlTmFtZSBpbiBwcm9wZXJ0aWVzKSkge1xuICAgIGNvbnNvbGUud2FybihgVGhlIHR5cGUgJHtjb25zdHVjdG9yLm5hbWV9IGhhcyBubyBtYXBwaW5nIGFubm90YXRpb24gZGVjbGFyZWQuYCk7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGxldCBkZWZhdWx0UHJvcGVydGllcyA9IHByb3BlcnRpZXNbREVGQVVMVF9QUk9QRVJUWV9TT1VSQ0VdO1xuICBpZiAoc291cmNlTmFtZSAhPT0gREVGQVVMVF9QUk9QRVJUWV9TT1VSQ0UpIHtcbiAgICBjb25zdCB1c2VEZWZhdWx0U291cmNlID0gKG9wdGlvbnMgJiYgb3B0aW9ucy51c2VEZWZhdWx0U291cmNlKSAhPT0gZmFsc2U7XG4gICAgaWYgKHVzZURlZmF1bHRTb3VyY2UgJiYgQXJyYXkuaXNBcnJheShkZWZhdWx0UHJvcGVydGllcykpIHtcbiAgICAgIGRlZmF1bHRQcm9wZXJ0aWVzID0gZGVmYXVsdFByb3BlcnRpZXMuc2xpY2UoKTtcbiAgICAgIHByb3BlcnRpZXNbc291cmNlTmFtZV0uZm9yRWFjaChwID0+IHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBkZWZhdWx0UHJvcGVydGllcy5maW5kSW5kZXgobSA9PiBwLm5hbWUgPT09IG0ubmFtZSk7XG4gICAgICAgIH5pbmRleCAmJiBkZWZhdWx0UHJvcGVydGllcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICBwdXNoQnlPcmRlcihkZWZhdWx0UHJvcGVydGllcywgcCwgcCA9PiBwLm9yZGVyKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcHJvcGVydGllc1tzb3VyY2VOYW1lXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRlZmF1bHRQcm9wZXJ0aWVzO1xufVxuXG4vKipcbiAqIE1hcCBhbiBvYmplY3QgdG8gYW4gaW5zdGFuY2Ugb2YgdGhlIHNwZWNpZmllZCB0eXBlLlxuICogQHBhcmFtIHNyYyBEYXRhIHNvdXJjZSBvYmplY3QuXG4gKiBAcGFyYW0gY29uc3R1Y3RvciBUaGUgdHlwZSBvZiBpbnN0YW5jZSwgdGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIG9mIHRoZSBjbGFzcy5cbiAqIEBwYXJhbSBvcHRpb25zIE1hcHBpbmcgb3B0aW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hcDxUIGV4dGVuZHMgbmV3ICguLi5hcmdzOiBhbnlbXSkgPT4gYW55PlxuICAoc3JjOiBhbnksIGNvbnN0dWN0b3I6IFQsIG9wdGlvbnM/OiBJTWFwcGluZ09wdGlvbnMpOiBJbnN0YW5jZVR5cGU8VD4gfCBudWxsIHtcbiAgaWYgKHNyYyA9PT0gdW5kZWZpbmVkIHx8IHNyYyA9PT0gbnVsbCB8fCB0eXBlb2Ygc3JjICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IGluc3RhbmNlID0gbmV3IGNvbnN0dWN0b3IoKTtcbiAgY29uc3QgcHJvcGVydGllcyA9IGdldFByb3BlcnRpZXMoY29uc3R1Y3Rvciwgb3B0aW9ucyk7XG4gIHByb3BlcnRpZXMuZm9yRWFjaCgocHJvcGVydHkpID0+IHtcbiAgICBsZXQgcmVzdWx0O1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHByb3BlcnR5LnJlc29sdmVQYXRoKHNyYyk7XG4gICAgICByZXN1bHQgPSBwcm9wZXJ0eS5jb252ZXJ0KHZhbHVlLCBzcmMsIGluc3RhbmNlLCBvcHRpb25zKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgfVxuICAgIGlmIChpc1ZhbGlkKHJlc3VsdCkpIHtcbiAgICAgIE9iamVjdC5hc3NpZ24oaW5zdGFuY2UsIHsgW3Byb3BlcnR5Lm5hbWVdOiByZXN1bHQgfSk7XG4gICAgfSBlbHNlIGlmICgnZGVmYXVsdCcgaW4gcHJvcGVydHkpIHtcbiAgICAgIE9iamVjdC5hc3NpZ24oaW5zdGFuY2UsIHsgW3Byb3BlcnR5Lm5hbWVdOiBwcm9wZXJ0eS5kZWZhdWx0IH0pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBpbnN0YW5jZTtcbn1cbiIsImltcG9ydCB7IElQcm9wZXJ0eSwgSUNvbnZlcnRlciB9IGZyb20gXCIuL2ludGVyZmFjZVwiO1xuaW1wb3J0IHsgUHJvcGVydHkgfSBmcm9tIFwiLi9wcm9wZXJ0eVwiO1xuaW1wb3J0IHsgUFJPUEVSVElFU19LRVkgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IHB1c2hCeU9yZGVyIH0gZnJvbSAnLi91dGlscyc7XG5cbi8qKlxuICogVGhlIHJlcXVpcmVkIGFubm90YXRpb25zIGZvciBvYmplY3QgbWFwcGluZyB3aGljaCBjYW4gb25seSBiZSB1c2VkIG9uIGluc3RhbmNlIHByb3BlcnRpZXMuXG4gKiBAcGFyYW0gb3B0aW9ucyBtYXBwaW5nIG9wdGlvbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hcHBpbmc8VCA9IGFueT4ob3B0aW9ucz86IElQcm9wZXJ0eTxUPiB8IElDb252ZXJ0ZXI8VD4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldDogYW55LCBuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignTWFwcGluZyBzdGF0aWMgbWVtYmVycyBpcyBub3QgYWxsb3dlZCwgaXQgaXMgYSBkYW5nZXJvdXMgb3BlcmF0aW9uLicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9wdHM6IElQcm9wZXJ0eTxUPiA9IG9wdGlvbnMgfHwge30gYXMgYW55O1xuICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IFByb3BlcnR5LmZyb20ob3B0cywgdGFyZ2V0LCBuYW1lKTtcbiAgICAgICAgdGFyZ2V0W1BST1BFUlRJRVNfS0VZXSA9IHRhcmdldFtQUk9QRVJUSUVTX0tFWV0gfHwge307XG4gICAgICAgIHRhcmdldFtQUk9QRVJUSUVTX0tFWV1bcHJvcGVydHkuc291cmNlXSA9IHRhcmdldFtQUk9QRVJUSUVTX0tFWV1bcHJvcGVydHkuc291cmNlXSB8fCBbXTtcbiAgICAgICAgcHVzaEJ5T3JkZXIodGFyZ2V0W1BST1BFUlRJRVNfS0VZXVtwcm9wZXJ0eS5zb3VyY2VdLCBwcm9wZXJ0eSwgaXRlbSA9PiBpdGVtLm9yZGVyKTtcbiAgICB9O1xufVxuIiwiaW1wb3J0IHsgUHJvcGVydHlUeXBlLCBJUHJvcGVydHksIElNYXBwaW5nT3B0aW9ucyB9IGZyb20gJy4vaW50ZXJmYWNlJztcbmltcG9ydCB7IGdldENvbnZlcnRlciB9IGZyb20gJy4vY29udmVydGVyJztcbmltcG9ydCB7IERFRkFVTFRfUFJPUEVSVFlfU09VUkNFLCBERUZBVUxUX1BST1BFUlRZX1NFUCwgQ1VSUkVOVF9QQVRIIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgdmFsaWRBc3NpZ24sIGlzVmFsaWQgfSBmcm9tICcuL3V0aWxzJztcblxuZXhwb3J0IGNsYXNzIFByb3BlcnR5PFQ+IGltcGxlbWVudHMgSVByb3BlcnR5PFQ+IHtcbiAgcGF0aDogc3RyaW5nO1xuICB0eXBlOiBQcm9wZXJ0eVR5cGU8VD47XG4gIHNlcGFyYXRvcjogc3RyaW5nID0gREVGQVVMVF9QUk9QRVJUWV9TRVA7XG4gIHNvdXJjZTogc3RyaW5nID0gREVGQVVMVF9QUk9QRVJUWV9TT1VSQ0U7XG4gIGRlZmF1bHQ6IGFueTtcbiAgb3JkZXI6IG51bWJlciA9IDA7XG4gIG5hbWU6IHN0cmluZztcblxuICBzdGF0aWMgZnJvbTxUPihvcHRpb25zOiBJUHJvcGVydHk8VD4sIHRhcmdldDogYW55LCBuYW1lOiBzdHJpbmcpIHtcbiAgICBvcHRpb25zID0gdHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicgPyB7IHR5cGU6IG9wdGlvbnMgfSA6IG9wdGlvbnM7XG4gICAgY29uc3QgcHJvcGVydHkgPSBuZXcgUHJvcGVydHkoKTtcbiAgICBwcm9wZXJ0eS5uYW1lID0gbmFtZTtcbiAgICB2YWxpZEFzc2lnbihwcm9wZXJ0eSwgb3B0aW9ucyk7XG4gICAgaWYgKG9wdGlvbnMuZG9tYWluKSB7XG4gICAgICBpZiAob3B0aW9ucy5wYXRoKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignVGhlIG9wdGlvbiBkb21haW4gd2lsbCBiZSBpZ25vcmVkIHdoZW4gdXNlZCB3aXRoIHBhdGguJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9wZXJ0eS5wYXRoID0gW29wdGlvbnMuZG9tYWluLCBuYW1lXS5qb2luKHByb3BlcnR5LnNlcGFyYXRvcik7XG4gICAgICB9XG4gICAgfVxuICAgIHByb3BlcnR5LnBhdGggPSBwcm9wZXJ0eS5wYXRoIHx8IG5hbWU7XG4gICAgaWYgKCFwcm9wZXJ0eS50eXBlICYmIFJlZmxlY3QgJiYgJ2dldE1ldGFkYXRhJyBpbiBSZWZsZWN0KSB7XG4gICAgICBjb25zdCBkZXNpZ25UeXBlID0gKFJlZmxlY3QgYXMgYW55KS5nZXRNZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIHRhcmdldCwgbmFtZSk7XG4gICAgICBwcm9wZXJ0eS50eXBlID0gZGVzaWduVHlwZSA9PT0gQXJyYXkgPyBbXSA6IGRlc2lnblR5cGU7XG4gICAgfVxuICAgIGlmICghcHJvcGVydHkudHlwZSkge1xuICAgICAgY29uc29sZS53YXJuKGBUaGUgcHJvcGVyeSAke25hbWV9IG1pc3NpbmcgJ3R5cGUnIG9wdGlvbiBhbmQgaXQgd2lsbCBiZSB0cmVhdGVkIGFzIGFueSwgYCArXG4gICAgICAgIGB5b3UgY2FuIGltcG9ydCBtb2R1bGUgJ3JlZmxlY3QtbWV0YWRhdGEnIHRvIGdldCB0eXBlcyBhdXRvbWF0aWNhbGx5YCk7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHByb3BlcnR5LnR5cGUpICYmIHByb3BlcnR5LnR5cGUubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zb2xlLndhcm4oYFRoZSBwcm9wZXJ5ICR7bmFtZX0gbWlzc2luZyB0eXBlIGRlY2xhcmF0aW9uIGFuZCBpdCB3aWxsIHRyZWF0ZWQgYXMgYW55W11gKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb3BlcnR5O1xuICB9XG5cbiAgcmVzb2x2ZVBhdGgoc3JjOiBhbnkpIHtcbiAgICBpZiAoIXNyYykgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBpZiAodGhpcy5wYXRoID09PSBDVVJSRU5UX1BBVEgpIHJldHVybiBzcmM7XG4gICAgY29uc3QgcGF0aGVzID0gdGhpcy5wYXRoLnNwbGl0KHRoaXMuc2VwYXJhdG9yKTtcbiAgICBmb3IgKHZhciBpbmRleCA9IDAsIGxlbmd0aCA9IHBhdGhlcy5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICBjb25zdCBwYXRoID0gcGF0aGVzW2luZGV4XTtcbiAgICAgIGNvbnN0IG1hdGNoZXMgPSBwYXRoLm1hdGNoKC9eKC4rKVxcWyhcXGQpXFxdJC8pO1xuICAgICAgaWYgKG1hdGNoZXMpIHtcbiAgICAgICAgY29uc3QgWywgbmFtZSwgaW5kZXhdID0gbWF0Y2hlcztcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc3JjW25hbWVdKSAmJiBzcmNbbmFtZV0ubGVuZ3RoID4gaW5kZXgpIHtcbiAgICAgICAgICBzcmMgPSBzcmNbbmFtZV1baW5kZXhdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocGF0aCBpbiBzcmMpIHtcbiAgICAgICAgICBzcmMgPSBzcmNbcGF0aF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluZGV4ID09PSBsZW5ndGggPyBzcmMgOiB1bmRlZmluZWQ7XG4gIH1cblxuICBjb252ZXJ0KHZhbHVlOiBhbnksIHNyYzogYW55LCBkZXN0OiBULCBvcHRpb25zPzogSU1hcHBpbmdPcHRpb25zKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy50eXBlKSkge1xuICAgICAgaWYgKCFpc1ZhbGlkKHZhbHVlKSkgcmV0dXJuIHZhbHVlO1xuICAgICAgY29uc3QgY29udmVydCA9IGdldENvbnZlcnRlcih0aGlzLnR5cGVbMF0pO1xuICAgICAgdmFsdWUgPSBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW3ZhbHVlXTtcbiAgICAgIHZhbHVlID0gdmFsdWUubWFwKChpdGVtOiBhbnkpID0+IGNvbnZlcnQoaXRlbSwgc3JjLCBkZXN0LCBvcHRpb25zKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGNvbnZlcnQgPSBnZXRDb252ZXJ0ZXIodGhpcy50eXBlKTtcbiAgICAgIHZhbHVlID0gY29udmVydCh2YWx1ZSwgc3JjLCBkZXN0LCBvcHRpb25zKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG59XG4iLCJpbXBvcnQgJy4vbm8tcmVmbGVjdC1tZXRhZGF0YSc7XG5pbXBvcnQgJy4vcmVmbGVjdC1tZXRhZGF0YSc7XG5pbXBvcnQgJy4vY29udmVydGVyJztcbmltcG9ydCAnLi9wdWxsLWRhdGEnO1xuaW1wb3J0ICcuL2N1c3RvbS1jbGFzcyc7XG5pbXBvcnQgJy4vYXJyYXknO1xuaW1wb3J0ICcuL211bHRpLWRhdGEtc291cmNlJztcbmltcG9ydCAnLi9vcmRlcic7XG5pbXBvcnQgJy4vdXNlLWRlZmF1bHQtc291cmNlJztcbmltcG9ydCAnLi9kZWZhdWx0JztcbmltcG9ydCAnLi9kb21haW4nOyIsImltcG9ydCB7IG1hcHBpbmcsIG1hcCB9IGZyb20gJy4uL2luZGV4JztcbmltcG9ydCBkYXRhU291cmNlIGZyb20gJy4vZGF0YS1zb3VyY2UnO1xuXG5jbGFzcyBQZXJzb24ge1xuICAgIEBtYXBwaW5nKHsgdHlwZTogU3RyaW5nIH0pXG4gICAgbmFtZTogc3RyaW5nO1xuICAgIEBtYXBwaW5nKHsgdHlwZTogQm9vbGVhbiB9KVxuICAgIGdlbmRlcjogYm9vbGVhbjtcbiAgICBAbWFwcGluZyh7IHR5cGU6IE51bWJlciB9KVxuICAgIGFnZTogbnVtYmVyID0gMTtcbiAgICBAbWFwcGluZyh7IHBhdGg6ICdzcmMubnVtYmVyJywgdHlwZTogTnVtYmVyIH0pXG4gICAgbnVtOiBudW1iZXJcbn1cbmNvbnN0IHJlc3VsdCA9IG1hcChkYXRhU291cmNlLCBQZXJzb24pO1xuXG5pZiAocmVzdWx0KSB7XG4gICAgY29uc29sZS5hc3NlcnQocmVzdWx0Lm5hbWUgPT09IGRhdGFTb3VyY2UubmFtZSwgJ+aZrumAmuWxnuaAp+iOt+WPluWksei0pScpO1xuICAgIGNvbnNvbGUuYXNzZXJ0KCEhcmVzdWx0Lm51bSwgJ+aLieWPluWvueixoeWksei0pScpO1xuICAgIGNvbnNvbGUuYXNzZXJ0KHJlc3VsdC5udW0gPT09ICtkYXRhU291cmNlLnNyYy5udW1iZXIsICfmma7pgJrnsbvlnovovazmjaLlpLHotKUnKTtcbiAgICBjb25zb2xlLmFzc2VydChyZXN1bHQuZ2VuZGVyID09PSBmYWxzZSwgJ+iOt+WPluS4jeWtmOWcqOeahOWxnuaAp+S4jeS4uuepuicpO1xufVxuIiwiaW1wb3J0ICdyZWZsZWN0LW1ldGFkYXRhJztcbmltcG9ydCB7IG1hcHBpbmcsIG1hcCB9IGZyb20gJy4uL2luZGV4JztcbmltcG9ydCBkYXRhU291cmNlIGZyb20gJy4vZGF0YS1zb3VyY2UnO1xuXG5jbGFzcyBCYXNlIHtcbiAgICBAbWFwcGluZygpXG4gICAgcHVibGljIG5hbWU6IHN0cmluZztcbn1cblxuY2xhc3MgUGVyc29uIGV4dGVuZHMgQmFzZSB7XG4gICAgQG1hcHBpbmcoKVxuICAgIGdlbmRlcjogc3RyaW5nO1xuICAgIEBtYXBwaW5nKClcbiAgICBhZ2U6IG51bWJlciA9IDE7XG4gICAgQG1hcHBpbmcoeyBwYXRoOiAnc3JjLm51bWJlcicgfSlcbiAgICBudW06IG51bWJlcjtcbiAgICBAbWFwcGluZygpXG4gICAgZGF0ZTogRGF0ZSA9IG5ldyBEYXRlKCk7XG59XG5jb25zdCByZXN1bHQgPSBtYXAoZGF0YVNvdXJjZSwgUGVyc29uKTtcbmlmIChyZXN1bHQpIHtcbiAgICBjb25zb2xlLmFzc2VydChyZXN1bHQubmFtZSA9PT0gZGF0YVNvdXJjZS5uYW1lLCAn5pmu6YCa5bGe5oCn6I635Y+W5aSx6LSlJyk7XG4gICAgY29uc29sZS5hc3NlcnQoISFyZXN1bHQubnVtLCAn5ouJ5Y+W5a+56LGh5aSx6LSlJyk7XG4gICAgY29uc29sZS5hc3NlcnQocmVzdWx0Lm51bSA9PT0gK2RhdGFTb3VyY2Uuc3JjLm51bWJlciwgJ+aZrumAmuexu+Wei+i9rOaNouWksei0pScpO1xuICAgIGNvbnNvbGUuYXNzZXJ0KHJlc3VsdC5nZW5kZXIgPT09IHVuZGVmaW5lZCwgJ+iOt+WPluS4jeWtmOWcqOeahOWxnuaAp+S4jeS4uuepuicpO1xuICAgIGNvbnNvbGUuYXNzZXJ0KHJlc3VsdC5kYXRlIGluc3RhbmNlb2YgRGF0ZSwgJ+aXpeacn+WvueWDj+i9rOaNouWksei0pScpO1xufVxuIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsImltcG9ydCAncmVmbGVjdC1tZXRhZGF0YSc7XG5pbXBvcnQgeyBtYXBwaW5nLCBtYXAgfSBmcm9tICcuLi9pbmRleCc7XG5pbXBvcnQgZGF0YVNvdXJjZSBmcm9tICcuL2RhdGEtc291cmNlJztcblxuXG5jbGFzcyBQZXJzb24ge1xuICAgIEBtYXBwaW5nKHsgcGF0aDogJ2FkZHJlc3MxWzBdLmNpdHknIH0pXG4gICAgY2l0eU5hbWU6IHN0cmluZztcbiAgICBAbWFwcGluZzxQZXJzb24+KChfdmFsdWUsIHNyYywgZGVzdCkgPT4ge1xuICAgICAgICByZXR1cm4gYEknbSAke3NyYy5uYW1lfSBhbmQgaSBjb21lIGZyb20gJHtkZXN0LmNpdHlOYW1lfWA7XG4gICAgfSlcbiAgICBpbnRybzogc3RyaW5nO1xuICAgIEBtYXBwaW5nKCgpID0+IHsgdGhyb3cgbmV3IEVycm9yKCdjYXN0IGVycm9yJykgfSlcbiAgICBlcnJvcjogc3RyaW5nO1xufVxuXG5jb25zdCByZXN1bHQgPSBtYXAoZGF0YVNvdXJjZSwgUGVyc29uKTtcbmlmIChyZXN1bHQpIHtcbiAgICBjb25zb2xlLmFzc2VydCh0eXBlb2YgcmVzdWx0LmludHJvID09PSAnc3RyaW5nJywgJ+iHquWumuS5iei9rOaNouWksei0pScpO1xuICAgIGNvbnNvbGUuYXNzZXJ0KHR5cGVvZiByZXN1bHQuZXJyb3IgPT09ICd1bmRlZmluZWQnLCAn6Ieq5a6a5LmJ6L2s5o2i5oqb5Ye66ZSZ6K+v6L2s5o2i5aSx6LSlJyk7XG59IiwiaW1wb3J0ICdyZWZsZWN0LW1ldGFkYXRhJztcbmltcG9ydCB7IG1hcHBpbmcsIG1hcCB9IGZyb20gJy4uL2luZGV4JztcbmltcG9ydCBkYXRhU291cmNlIGZyb20gJy4vZGF0YS1zb3VyY2UnO1xuXG5jbGFzcyBBZGRyZXNzIHtcbiAgICBAbWFwcGluZygpXG4gICAgaWQ6IG51bWJlcjtcbiAgICBAbWFwcGluZygpXG4gICAgY2l0eTogJyc7XG4gICAgQG1hcHBpbmcoeyBwYXRoOiAnemlwX2NvZGUnIH0pXG4gICAgemlwQ29kZTogJyc7XG59XG5cbmNsYXNzIFBlcnNvbiB7XG4gICAgQG1hcHBpbmcoeyBwYXRoOiAnYWRkcmVzczFbMF0uY2l0eScgfSlcbiAgICBjaXR5TmFtZTogc3RyaW5nO1xuICAgIEBtYXBwaW5nKHsgcGF0aDogJ3NyYy5udW1iZXInIH0pXG4gICAgbnVtOiBudW1iZXI7XG4gICAgQG1hcHBpbmcoeyBwYXRoOiAnYWRkcmVzczFbMF0nIH0pXG4gICAgYWRkcmVzczogQWRkcmVzcztcbn1cblxuY29uc3QgcmVzdWx0ID0gbWFwKGRhdGFTb3VyY2UsIFBlcnNvbik7XG5pZiAocmVzdWx0KSB7XG4gICAgY29uc29sZS5hc3NlcnQocmVzdWx0LmNpdHlOYW1lID09PSBkYXRhU291cmNlLmFkZHJlc3MuY2l0eSwgJ+WxnuaAp+aLieWPluWksei0pScpO1xuICAgIGNvbnNvbGUuYXNzZXJ0KHR5cGVvZiByZXN1bHQubnVtID09PSAnbnVtYmVyJywgJ+aLieWPluWfuuehgOWxnuaAp+i9rOaNouWksei0pScpO1xuICAgIGNvbnNvbGUuYXNzZXJ0KHJlc3VsdC5hZGRyZXNzIGluc3RhbmNlb2YgQWRkcmVzcywgJ+aLieWPluiHquWumuS5ieexu+Wei+WxnuaAp+i9rOaNouWksei0pScpXG59XG4iLCJpbXBvcnQgJ3JlZmxlY3QtbWV0YWRhdGEnO1xuaW1wb3J0IHsgbWFwcGluZywgbWFwIH0gZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IGRhdGFTb3VyY2UgZnJvbSAnLi9kYXRhLXNvdXJjZSc7XG5cbmNsYXNzIEFkZHJlc3Mge1xuICAgIEBtYXBwaW5nKClcbiAgICBpZDogbnVtYmVyO1xuICAgIEBtYXBwaW5nKClcbiAgICBjaXR5OiAnJztcbiAgICBAbWFwcGluZyh7IHBhdGg6ICd6aXBfY29kZScgfSlcbiAgICB6aXBDb2RlOiAnJztcbn1cblxuY2xhc3MgQmFzZSB7XG4gICAgQG1hcHBpbmcoKVxuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmc7XG59XG5cbmNsYXNzIFBlcnNvbiBleHRlbmRzIEJhc2Uge1xuICAgIEBtYXBwaW5nKClcbiAgICBhZGRyZXNzOiBBZGRyZXNzO1xufVxuXG5jb25zdCByZXN1bHQgPSBtYXAoZGF0YVNvdXJjZSwgUGVyc29uKTtcbmlmIChyZXN1bHQpIHtcbiAgICBjb25zb2xlLmFzc2VydChyZXN1bHQubmFtZSA9PT0gZGF0YVNvdXJjZS5uYW1lLCAn5pmu6YCa5bGe5oCn6I635Y+W5aSx6LSlJyk7XG4gICAgY29uc29sZS5hc3NlcnQocmVzdWx0LmFkZHJlc3MgJiYgcmVzdWx0LmFkZHJlc3MgaW5zdGFuY2VvZiBBZGRyZXNzLCAn6Ieq5a6a5LmJ5a+56LGh6L2s5o2i5aSx6LSlJyk7XG59XG4iLCJpbXBvcnQgJ3JlZmxlY3QtbWV0YWRhdGEnO1xuaW1wb3J0IHsgbWFwcGluZywgbWFwIH0gZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IGRhdGFTb3VyY2UgZnJvbSAnLi9kYXRhLXNvdXJjZSc7XG5cbmNsYXNzIEFkZHJlc3Mge1xuICAgIEBtYXBwaW5nKClcbiAgICBpZDogbnVtYmVyO1xuICAgIEBtYXBwaW5nKClcbiAgICBjaXR5OiAnJztcbiAgICBAbWFwcGluZyh7IHBhdGg6ICd6aXBfY29kZScgfSlcbiAgICB6aXBDb2RlOiAnJztcbn1cblxuY2xhc3MgUGVyc29uIHtcbiAgICBAbWFwcGluZyh7IHBhdGg6ICdhZGRyZXNzMScsIHR5cGU6IFtBZGRyZXNzXSB9KVxuICAgIGFkZHJlc3MxOiBBZGRyZXNzW107XG4gICAgQG1hcHBpbmcoeyB0eXBlOiBbRGF0ZV0gfSlcbiAgICBkYXRlczogYW55O1xufVxuXG5jb25zdCByZXN1bHQgPSBtYXAoZGF0YVNvdXJjZSwgUGVyc29uKTtcbmlmIChyZXN1bHQpIHtcbiAgICBjb25zb2xlLmFzc2VydChBcnJheS5pc0FycmF5KHJlc3VsdC5kYXRlcyksICfmlbDnu4TovazmjaLlpLHotKUnKTtcbiAgICBjb25zb2xlLmFzc2VydChyZXN1bHQuYWRkcmVzczFbMF0gaW5zdGFuY2VvZiBBZGRyZXNzLCAn5pWw57uE5a+55YOP6L2s5o2i5aSx6LSlJyk7XG59XG4iLCJpbXBvcnQgeyBtYXBwaW5nLCBtYXAgfSBmcm9tICcuLi9pbmRleCc7XG5pbXBvcnQgZGF0YVNvdXJjZSBmcm9tICcuL2RhdGEtc291cmNlJztcblxuY2xhc3MgUGVyc29uIHtcbiAgICBAbWFwcGluZyh7IHR5cGU6IFN0cmluZywgc291cmNlOiAnb3RoZXInLCBwYXRoOiAncGVyc29uLmxhc3RuYW1lJyB9KVxuICAgIEBtYXBwaW5nKHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnZmlzaGVyJyB9KVxuICAgIG5hbWU6IHN0cmluZztcbn1cbmNvbnN0IGRhdGFTb3VyY2UxID0ge1xuICAgIHBlcnNvbjogeyBsYXN0bmFtZTogJ2phY2snIH1cbn07XG5jb25zdCByZXN1bHQgPSBtYXAoZGF0YVNvdXJjZSwgUGVyc29uKTtcbmNvbnN0IHJlc3VsdDEgPSBtYXAoZGF0YVNvdXJjZTEsIFBlcnNvbiwgeyBzb3VyY2U6ICdvdGhlcicgfSk7XG5cbmlmIChyZXN1bHQgJiYgcmVzdWx0MSkge1xuICAgIGNvbnNvbGUuYXNzZXJ0KHJlc3VsdC5uYW1lID09PSBkYXRhU291cmNlLm5hbWUgJiYgcmVzdWx0MS5uYW1lID09PSBkYXRhU291cmNlMS5wZXJzb24ubGFzdG5hbWUsICflpJrkuKrmlbDmja7mupDlsZ7mgKfojrflj5blpLHotKUnKTtcbn0iLCJpbXBvcnQgeyBtYXBwaW5nLCBtYXAgfSBmcm9tICcuLi9pbmRleCc7XG5pbXBvcnQgZGF0YVNvdXJjZSBmcm9tICcuL2RhdGEtc291cmNlJztcblxuY2xhc3MgUGVyc29uIHtcbiAgICBAbWFwcGluZyh7IHR5cGU6IChfc3JjLCBkZXN0KSA9PiBkZXN0Lm5hbWUsIG9yZGVyOiAxIH0pXG4gICAgZnVsbE5hbWU6IHN0cmluZztcbiAgICBAbWFwcGluZyh7IHR5cGU6IFN0cmluZyB9KVxuICAgIG5hbWU6IHN0cmluZyA9ICdqYWNrJztcbn1cbmNvbnN0IHJlc3VsdCA9IG1hcChkYXRhU291cmNlLCBQZXJzb24pO1xuXG5pZiAocmVzdWx0KSB7XG4gICAgY29uc29sZS5hc3NlcnQocmVzdWx0LmZ1bGxOYW1lID09PSBkYXRhU291cmNlLm5hbWUsICfmjpLluo/lsZ7mgKfojrflj5blpLHotKUnKTtcbn0iLCJpbXBvcnQgeyBtYXBwaW5nLCBtYXAgfSBmcm9tICcuLi9pbmRleCc7XG5pbXBvcnQgZGF0YVNvdXJjZSBmcm9tICcuL2RhdGEtc291cmNlJztcblxuY2xhc3MgUGVyc29uIHtcbiAgICBAbWFwcGluZyh7IHR5cGU6IFN0cmluZywgc291cmNlOiAnb3RoZXInLCBwYXRoOiAncGVyc29uLmxhc3RuYW1lJyB9KVxuICAgIEBtYXBwaW5nKHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnZmlzaGVyJyB9KVxuICAgIG5hbWU6IHN0cmluZztcbiAgICBAbWFwcGluZyh7IHR5cGU6IE51bWJlciwgcGF0aDogJ3NyYy5udW1iZXInIH0pXG4gICAgYWdlOiBudW1iZXI7XG59XG5jb25zdCBkYXRhU291cmNlMSA9IHtcbiAgICBwZXJzb246IHsgbGFzdG5hbWU6ICdqYWNrJyB9LFxuICAgIHNyYzogeyBudW1iZXI6IDE4IH0sXG59O1xuY29uc3QgcmVzdWx0ID0gbWFwKGRhdGFTb3VyY2UsIFBlcnNvbik7XG5jb25zdCByZXN1bHQxID0gbWFwKGRhdGFTb3VyY2UxLCBQZXJzb24sIHsgc291cmNlOiAnb3RoZXInIH0pO1xuY29uc3QgcmVzdWx0MiA9IG1hcChkYXRhU291cmNlMSwgUGVyc29uLCB7IHNvdXJjZTogJ290aGVyJywgdXNlRGVmYXVsdFNvdXJjZTogZmFsc2UgfSk7XG5cbmlmIChyZXN1bHQgJiYgcmVzdWx0MSkge1xuICAgIGNvbnNvbGUuYXNzZXJ0KHJlc3VsdC5uYW1lID09PSBkYXRhU291cmNlLm5hbWUgJiYgcmVzdWx0MS5uYW1lID09PSBkYXRhU291cmNlMS5wZXJzb24ubGFzdG5hbWUsICflpJrkuKrmlbDmja7mupDlsZ7mgKfojrflj5blpLHotKUnKTtcbiAgICBjb25zb2xlLmFzc2VydChyZXN1bHQxLmFnZSA9PT0gZGF0YVNvdXJjZTEuc3JjLm51bWJlciwgJ+S9v+eUqOm7mOiupOaVsOaNrua6kOmFjee9ruWksei0pScpO1xuICAgIGNvbnNvbGUuYXNzZXJ0KHJlc3VsdDIuYWdlID09PSB1bmRlZmluZWQsICfkuI3kvb/nlKjpu5jorqTmlbDmja7mupDphY3nva7lpLHotKUnKTtcbn0iLCJpbXBvcnQgeyBtYXBwaW5nLCBtYXAgfSBmcm9tICcuLi9pbmRleCc7XG5cbmNsYXNzIFBlcnNvbiB7XG4gICAgQG1hcHBpbmcoeyB0eXBlOiBTdHJpbmcgfSlcbiAgICBuYW1lOiBzdHJpbmcgPSAnZmlzaGVyJztcbiAgICBAbWFwcGluZyh7IHR5cGU6IEJvb2xlYW4gfSlcbiAgICBnZW5kZXI6IGJvb2xlYW47XG4gICAgQG1hcHBpbmcoeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDE4IH0pXG4gICAgYWdlOiBudW1iZXIgPSAxO1xuICAgIEBtYXBwaW5nKHsgdHlwZTogW1N0cmluZ10gfSlcbiAgICBhcnJheTogc3RyaW5nW10gPSBbXTtcbn1cblxuY29uc3QgZGF0YVNvdXJjZTogYW55ID0ge1xuICAgIG5hbWU6IHVuZGVmaW5lZCxcbiAgICBnZW5kZXI6IG51bGwsXG4gICAgYWdlOiB1bmRlZmluZWQsXG4gICAgYXJyYXk6IG51bGxcbn1cbmNvbnN0IHJlc3VsdCA9IG1hcChkYXRhU291cmNlLCBQZXJzb24pO1xuXG5pZiAocmVzdWx0KSB7XG4gICAgY29uc29sZS5hc3NlcnQocmVzdWx0Lm5hbWUgPT09ICdmaXNoZXInLCAn6buY6K6k5YC86I635Y+W5aSx6LSlJyk7XG4gICAgY29uc29sZS5hc3NlcnQocmVzdWx0LmFnZSA9PT0gMTgsICflj4LmlbDpu5jorqTlgLzojrflj5blpLHotKUnKTtcbiAgICBjb25zb2xlLmFzc2VydChyZXN1bHQuZ2VuZGVyID09PSBmYWxzZSwgJ+W4g+WwlOexu+Wei+i9rOaNouWksei0pScpO1xuICAgIGNvbnNvbGUuYXNzZXJ0KEFycmF5LmlzQXJyYXkocmVzdWx0LmFycmF5KSAmJiByZXN1bHQuYXJyYXkubGVuZ3RoID09PSAwLCAn5pWw57uE6buY6K6k5YC86L2s5o2i5aSx6LSlJyk7XG59XG4iLCJpbXBvcnQgJ3JlZmxlY3QtbWV0YWRhdGEnO1xuaW1wb3J0IHsgbWFwcGluZywgbWFwIH0gZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IGRhdGFTb3VyY2UgZnJvbSAnLi9kYXRhLXNvdXJjZSc7XG5cbmNsYXNzIFBlcnNvbiB7XG4gICAgQG1hcHBpbmcoeyBkb21haW46ICdzcmMnLCBwYXRoOiAnc3JjLm51bWJlcicgfSlcbiAgICBudW1iZXI6IG51bWJlcjtcbiAgICBAbWFwcGluZyh7IGRvbWFpbjogJ2FkZHJlc3MnIH0pXG4gICAgY2l0eTogc3RyaW5nO1xufVxuY29uc3QgcmVzdWx0ID0gbWFwKGRhdGFTb3VyY2UsIFBlcnNvbik7XG5pZiAocmVzdWx0KSB7XG4gICAgY29uc29sZS5hc3NlcnQocmVzdWx0Lm51bWJlciA9PT0gK2RhdGFTb3VyY2Uuc3JjLm51bWJlciwgJ+Wfn+WxnuaAp+iOt+WPluWksei0pScpO1xuICAgIGNvbnNvbGUuYXNzZXJ0KHJlc3VsdC5jaXR5ID09PSBkYXRhU291cmNlLmFkZHJlc3MuY2l0eSwgJ+Wfn+WxnuaAp+iOt+WPluWksei0pScpO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==